const e=["en-US"];let t,n;function r(e,...n){return(t[e]||e).replaceAll(/\{(?:[^\}]*)\}/gv,()=>n.shift())}function s(e,t){const n=localStorage.getItem(e);t(JSON.parse(n))}function i(e,t,n){localStorage.setItem(e,JSON.stringify(t)),n(t)}"undefined"!=typeof window&&window&&(n=window);let a="undefined"!=typeof document&&document||n?.document;const o=["$plugins","$map"],u="http://www.w3.org/1999/xhtml",l=/-([a-z])/gu,c=new Map([["maxlength","maxLength"],["minlength","minLength"],["readonly","readOnly"]]),d=["checked","defaultChecked","defaultSelected","disabled","indeterminate","open","readOnly","selected","accessKey","async","autocapitalize","autofocus","contentEditable","defaultValue","defer","draggable","formnovalidate","hidden","innerText","inputMode","ismap","multiple","novalidate","pattern","required","spellcheck","translate","value","willvalidate"],h=["autocomplete","dir","integrity","lang","max","min","minLength","maxLength","title"],m=e=>{if(!a)throw new Error("No document object");return a.querySelector(e)};function f(e,t){var n;"template"!==((n=e).nodeName&&n.nodeName.toLowerCase())?e.append(t):e.content.append(t)}function y(e,t,n,r){e.addEventListener(t,n,Boolean(r))}function g(e,t,n){if(!a)throw new Error("No document defined");if(!/^\w+$/u.test(n))throw new TypeError(`Bad ${e} reference; with prefix "${t}" and arg "${n}"`);const r=a.createElement("div");return r.innerHTML="&"+t+n+";",a.createTextNode(r.innerHTML)}function p(e,t){return t.toUpperCase()}function w(e){return null==e}function b(e){const t=typeof e;if("string"==typeof e||void 0===e)return"string";if("object"===t){if(null===e)return"null";if(Array.isArray(e))return"array";if("nodeType"in e)switch(e.nodeType){case 1:return"element";case 9:return"document";case 11:return"fragment";default:return"non-container node"}}return t}function v(e,t){return e.append(t),e}function k(e){return function(...t){const n=t[0];let r=e[""]?' xmlns="'+e[""]+'"':n;for(const[t,n]of Object.entries(e))""!==t&&(r+=" xmlns:"+t+'="'+n+'"');return r}}function S(e){return function(t,n){const r=e.childNodes[n],s=Array.isArray(t)?D(...t):D(t);r.replaceWith(s)}}function T(e){return function(t){if("string"==typeof t||"number"==typeof t)throw new TypeError("Unexpected text string/number in the head");Array.isArray(t)?e.append(D(...t)):"object"==typeof t&&"nodeType"in t?e.append(t):e.append(D(t))}}function O(e){return function(t){"string"==typeof t||"number"==typeof t?e.append(String(t)):Array.isArray(t)?e.append(D(...t)):"object"==typeof t&&"nodeType"in t?e.append(t):e.append(D(t))}}function N(e,t,n,r,s){if(r.$state=s??"attributeValue",n&&"object"==typeof n){const s=M(r,Object.keys(n)[0]);if(s)return s.set({opts:r,element:e,attribute:{name:t,value:n}})}return n}function M(e,t){return e.$plugins&&e.$plugins.find(e=>e.name===t)}const D=function e(...t){if(!n)throw new Error("No window object");if(!a)throw new Error("No document object");let r=a.createDocumentFragment();function s(n){if(!a)throw new Error("No document object");for(let[s,o]of Object.entries(n))if(s=c.get(s)??s,h.includes(s))o=N(r,s,o,E),w(o)||(r[s]=o);else if(d.includes(s))o=N(r,s,o,E),r[s]=o;else switch(s){case"#":E.$state="fragmentChildren",i[i.length]=e(E,o);break;case"$shadow":{const{open:t,closed:n}=o;let{content:s,template:i}=o;const u=r.attachShadow({mode:n||!1===t?"closed":"open"});i?(Array.isArray(i)?i="object"===b(i[0])?e("template",...i,a.body):e("template",i,a.body):"string"==typeof i&&(i=m(i)),e(i.content.cloneNode(!0),u)):(s||!0!==t&&(s=t||"boolean"==typeof n?s:n),s&&"boolean"!=typeof s&&(Array.isArray(s)?e({"#":s},u):e(s,u)));break}case"$state":case"is":case"xmlns":break;case"$custom":Object.assign(r,o);break;case"$define":{if(!("localName"in r))throw new Error("Element expected for `$define`");const e=r.localName.toLowerCase(),s=!e.includes("-");let i;if(s&&(i=r.getAttribute("is"),!i)){if(!Object.hasOwn(n,"is"))throw new TypeError(`Expected \`is\` with \`$define\` on built-in; args: ${JSON.stringify(t)}`);n.is=N(r,"is",n.is,E),r.setAttribute("is",n.is),({is:i}=n)}const u=s?i:e;if(window.customElements.get(u))break;const l=t=>{if(!a)throw new Error("No document object");const n="object"==typeof d&&"string"==typeof d.extends?a.createElement(d.extends).constructor:s?a.createElement(e).constructor:window.HTMLElement;return t?class extends n{constructor(){super(),t.call(this)}}:class extends n{}};let c,d,h;const m=o;Array.isArray(m)?m.length<=2?([c,d]=m,"string"==typeof d?d={extends:d}:d&&!Object.hasOwn(d,"extends")&&(h=d),"object"==typeof c&&(h=c,c=l())):([c,h,d]=m,"string"==typeof d&&(d={extends:d})):"function"==typeof m?c=m:(h=m,c=l()),c.toString().startsWith("class")||(c=l(c)),!d&&s&&(d={extends:e}),h&&Object.entries(h).forEach(([e,t])=>{c.prototype[e]=t}),window.customElements.define(u,c,"object"==typeof d?d:void 0);break}case"$symbol":{const[e,t]=o;if("function"==typeof t){const n=t.bind(r);"string"==typeof e?r[Symbol.for(e)]=n:r[e]=n}else{const n=t;n.elem=r,"string"==typeof e?r[Symbol.for(e)]=n:r[e]=n}break}case"$data":C(o);break;case"$attribute":{const e=o,t=3===e.length?a.createAttributeNS(e[0],e[1]):a.createAttribute(e[0]);t.value=e[e.length-1],i[i.length]=t;break}case"$text":{const e=a.createTextNode(o);i[i.length]=e;break}case"$document":{const t=a.implementation.createHTMLDocument();if(!o)throw new Error("Bad attribute value");const n=o;if(n.childNodes){const e=n.childNodes.length;for(;t.childNodes[e];){t.childNodes[e].remove()}n.childNodes.forEach(S(t))}else{if(n.$DOCTYPE){const r={$DOCTYPE:n.$DOCTYPE},s=e(r);t.firstChild?.replaceWith(s)}const r=t.querySelector("html"),s=r?.querySelector("head"),i=r?.querySelector("body");if(n.title||n.head){const e=a.createElement("meta");e.setAttribute("charset","utf-8"),s?.append(e),n.title&&(t.title=n.title),n.head&&s&&n.head.forEach(T(s))}n.body&&i&&n.body.forEach(O(i))}i[i.length]=t;break}case"$DOCTYPE":{const e=o,t=a.implementation.createDocumentType(e.name,e.publicId||"",e.systemId||"");i[i.length]=t;break}case"$on":for(let[e,n]of Object.entries(o||{})){if("function"==typeof n&&(n=[n,!1]),"function"!=typeof n[0])throw new TypeError(`Expect a function for \`$on\`; args: ${JSON.stringify(t)}`);y(r,e,n[0],n[1])}break;case"className":case"class":o=N(r,s,o,E),w(o)||(r.className=o);break;case"dataset":{const e=(t,n)=>{let s="";const i=""!==n;Object.keys(t).forEach(a=>{const o=t[a];if(s=i?n+a.replace(l,p).replace(/^([a-z])/u,p):n+a.replace(l,p),null===o||"object"!=typeof o)return w(o)||(r.dataset[s]=o),void(s=n);e(o,s)})};e(o,"");break}case"innerHTML":w(o)||(r.innerHTML=o);break;case"htmlFor":case"for":if("label"===D){o=N(r,s,o,E),w(o)||(r.htmlFor=o);break}o=N(r,s,o,E),r.setAttribute(s,o);break;default:{if(s.startsWith("on")){o=N(r,s,o,E),r[s]=o;break}if("style"===s){if(o=N(r,s,o,E),w(o))break;if("object"==typeof o){for(const[e,t]of Object.entries(o))w(t)||("float"===e?(r.style.cssFloat=t,r.style.styleFloat=t):r.style[e.replace(l,p)]=t);break}r.setAttribute(s,o);break}const e=s,t=M(E,e);if(t){t.set({opts:E,element:i[0],attribute:{name:e,value:o}});break}o=N(r,s,o,E),r.setAttribute(s,o);break}}}const i=[];let D,E,I=!1,x=0;if("object"===b(t[0])&&Object.keys(t[0]).some(e=>o.includes(e))){if(E=t[0],void 0===E.$state&&(I=!0,E.$state="root"),Array.isArray(E.$map)&&(E.$map={root:E.$map}),"$plugins"in E){if(!Array.isArray(E.$plugins))throw new TypeError(`\`$plugins\` must be an array; args: ${JSON.stringify(t)}`);E.$plugins.forEach(e=>{if(!e||"object"!=typeof e)throw new TypeError(`Plugin must be an object; args: ${JSON.stringify(t)}`);if(!e.name||!e.name.startsWith("$_"))throw new TypeError(`Plugin object name must be present and begin with \`$_\`; args: ${JSON.stringify(t)}`);if("function"!=typeof e.set)throw new TypeError(`Plugin object must have a \`set\` method; args: ${JSON.stringify(t)}`)})}x=1}else E={$state:void 0};const $=t.length,V=E.$map&&E.$map.root,C=e=>{let t,n;const s=V;if(!0===e)[t,n]=s;else if(Array.isArray(e)){if("string"==typeof e[0])return void e.forEach(e=>{C(E.$map[e])});t=e[0]||s[0],n=e[1]||s[1]}else/^\[object (?:Weak)?Map\]$/u.test([].toString.call(e))?(t=e,n=s[1]):(t=s[0],n=e);t.set(r,n)};for(let o=x;o<$;o++){let l=t[o];const c=b(l);switch(c){case"null":if(o===$-1)return i.length<=1?i[0]:i.reduce(v,a.createDocumentFragment());throw new TypeError(`\`null\` values not allowed except as final Jamilih argument; index ${o} on args: ${JSON.stringify(t)}`);case"string":switch(l){case"!":i[i.length]=a.createComment(t[++o]);break;case"?":{l=t[++o];let e=t[++o];const n=e;if(n&&"object"==typeof n){const t=[];for(const[e,r]of Object.entries(n))t.push(e+'="'+r.replace(/"/gu,"&quot;")+'"');e=t.join(" ")}try{i[i.length]=a.createProcessingInstruction(l,e)}catch(t){i[i.length]=a.createComment("?"+l+" "+e+"?")}break}case"&":i[i.length]=g("entity","",t[++o]);break;case"#":i[i.length]=g("decimal",l,String(t[++o]));break;case"#x":i[i.length]=g("hexadecimal",l,t[++o]);break;case"![":try{i[i.length]=a.createCDATASection(t[++o])}catch(e){i[i.length]=a.createTextNode(t[o])}break;case"":i[i.length]=r=a.createDocumentFragment(),E.$state="fragment";break;default:{D=l;const e=t[o+1];if(e&&"object"===b(e)&&e.is){const{is:t}=e;r=a.createElementNS?a.createElementNS(u,D,{is:t}):a.createElement(D,{is:t})}else r=a.createElementNS?a.createElementNS(u,D):a.createElement(D);E.$state="element",i[i.length]=r;break}}break;case"object":{if(!l||"object"!=typeof l)throw new Error("Null should not reach here");const e=l;if("xmlns"in e){const t=e,s=t.xmlns&&"object"==typeof t.xmlns?k(t.xmlns):' xmlns="'+t.xmlns+'"';r=i[i.length-1]=(new n.DOMParser).parseFromString((new n.XMLSerializer).serializeToString(r).replace(' xmlns="'+u+'"',s),"application/xml").documentElement,E.$state="element"}s(e);break}case"document":case"fragment":case"element":if(0===o&&(r=l,E.$state="element"),o===$-1||o===$-2&&null===t[o+1]){const e=i.length;for(let t=0;t<e;t++)f(l,i[t])}else i[i.length]=l;break;case"array":{const n=l,s=n.length;for(let i=0;i<s;i++){const s=n[i],o=typeof s;if(null===s||w(s))throw new TypeError(`Bad children (parent array: ${JSON.stringify(t)}; index ${i} of child: ${JSON.stringify(n)})`);switch(o){case"string":case"number":case"boolean":f(r,a.createTextNode(String(s)));break;default:if("object"!=typeof s)throw new TypeError(`Bad children (parent array: ${JSON.stringify(t)}; index ${i} of child: ${JSON.stringify(n)})`);if(Array.isArray(s))E.$state="children",f(r,e(E,...s));else if("#"in s)E.$state="fragmentChildren",f(r,e(E,s["#"]));else{let e;"nodeType"in s||(e=N(r,null,s,E,"children")),f(r,e||s)}}}break}default:throw new TypeError(`Unexpected type: ${c}; arg: ${l}; index ${o} on args: ${JSON.stringify(t)}`)}}const L=i[0]||r;return I&&E.$map&&E.$map.root&&C(!0),L};class E extends Error{constructor(e,t){super(e),this.code=0,this.name=t}}D.toJML=function(e,{stringOutput:t=!1,reportInvalidState:r=!0,stripWhitespace:s=!1}={}){if(!n)throw new Error("No window object set");"string"==typeof e&&(e=(new n.DOMParser).parseFromString(e,"text/html"));const i=[];let a=i,o=0;function u(e){if(r){const t=new E(e,"INVALID_STATE_ERR");throw t.code=11,t}}function l(e){a[o]=e,o++}function c(){l([]),a=a[o-1],o=0}function d(e,t){a=a[o-1][e],o=0,t&&(a=a[t])}return function e(t,n){const r="nodeType"in t?t.nodeType:null;if(!r)throw new TypeError("Not an XML type");if(5===r)return void l(["&",t.nodeName]);let i,h;function m(){i=a,h=o}function f(){a=i,o=h,o++}switch(n={...n},[2,3,4,7,8].includes(r)&&t.nodeValue&&!/^([\u0009\u000A\u000D\u0020-\uD7FF\uE000-\uFFFD]|[\uD800-\uDBFF][\uDC00-\uDFFF])*$/u.test(t.nodeValue)&&u("Node has bad XML character value"),r){case 1:{const r=t;m();const s=r.nodeName.toLowerCase();c(),l(s);const i={};let a=!1;n[r.prefix||""]!==r.namespaceURI&&(n[r.prefix||""]=r.namespaceURI,r.prefix?i["xmlns:"+r.prefix]=r.namespaceURI:r.namespaceURI?i.xmlns=r.namespaceURI:i.xmlns=null,a=!0),r.attributes.length?l([...r.attributes].reduce(function(e,t){return e[t.name]=t.value,e},i)):a&&l(i);const{childNodes:o}=r;o.length&&(c(),[...o].forEach(function(t){e(t,n)})),f();break}case 2:{const e=t;l({$attribute:[e.namespaceURI,e.name,e.value]});break}case 3:{const e=t;if(!e.nodeValue)throw new Error("Unexpected null comment value");if(s&&/^\s+$/u.test(e.nodeValue))return void l("");l(e.nodeValue);break}case 4:{const e=t;e.nodeValue?.includes("]]>")&&u("CDATA cannot end with closing ]]>"),l(["![",e.nodeValue]);break}case 7:{const e=t;/^xml$/iu.test(e.target)&&u('Processing instructions cannot be "xml".'),e.target.includes("?>")&&u("Processing instruction targets cannot include ?>"),e.target.includes(":")&&u('The processing instruction target cannot include ":"'),e.data.includes("?>")&&u("Processing instruction data cannot include ?>"),l(["?",e.target,e.data]);break}case 8:{const e=t;if(!e.nodeValue)throw new Error("Unexpected null comment value");(e.nodeValue.includes("--")||e.nodeValue.length&&e.nodeValue.lastIndexOf("-")===e.nodeValue.length-1)&&u("Comments cannot include --"),l(["!",e.nodeValue]);break}case 9:{const r=t;m();l({$document:{childNodes:[]}}),d("$document","childNodes");const{childNodes:s}=r;s.length||u("Documents must have a child node"),[...s].forEach(function(t){e(t,n)}),f();break}case 10:{const e=t;m();const n={$DOCTYPE:{name:e.name}};/^(\u0020|\u000D|\u000A|[a-zA-Z0-9]|[-'()+,./:=?;!*#@$_%])*$/u.test(e.publicId)||u("A publicId must have valid characters."),function(e,t){t.systemId.includes('"')&&t.systemId.includes("'")&&u("systemId cannot have both single and double quotes.");const{publicId:n,systemId:r}=t;r&&(e.systemId=r),n&&(e.publicId=n)}(n.$DOCTYPE,e),l(n),f();break}case 11:{const r=t;m(),l({"#":[]}),d("#");const{childNodes:s}=r;[...s].forEach(function(t){e(t,n)}),f();break}default:throw new TypeError("Not an XML type")}}(e,{}),t?JSON.stringify(i[0]):i[0]},D.toJMLString=function(e,t){return D.toJML(e,Object.assign(t||{},{stringOutput:!0}))},D.toDOM=function(...e){return D(...e)},D.toHTML=function(...e){const t=D(...e);switch(t.nodeType){case 1:return t.outerHTML;case 2:return`${t.name}="${t.value.replace(/"/gu,"&quot;")}"`;case 3:if(!t.nodeValue)throw new TypeError("Unexpected null Text node");return t.nodeValue;case 9:case 11:return[...t.childNodes].map(e=>D.toHTML(e)).join("");case 10:{const e=t;return`<!DOCTYPE ${e.name}${e.publicId?` PUBLIC "${e.publicId}" "${e.systemId}"`:e.systemId?` SYSTEM "${e.systemId}"`:""}>`}default:throw new Error("Unexpected node type")}},D.toDOMString=function(...e){return D.toHTML(...e)},D.toXML=function(...e){if(!n)throw new Error("No window object set");const t=D(...e);return(new n.XMLSerializer).serializeToString(t)},D.toXMLDOMString=function(...e){return D.toXML(...e)};class I extends Map{get(e){const t="string"==typeof e?m(e):e;return super.get.call(this,t)}set(e,t){const n="string"==typeof e?m(e):e;return super.set.call(this,n,t)}invoke(e,t,...n){const r="string"==typeof e?m(e):e;return this.get(r)[t](r,...n)}}class x extends WeakMap{get(e){const t="string"==typeof e?m(e):e;if(!t)throw new Error("Can't find the element");return super.get.call(this,t)}set(e,t){const n="string"==typeof e?m(e):e;if(!n)throw new Error("Can't find the element");return super.set.call(this,n,t)}invoke(e,t,...n){const r="string"==typeof e?m(e):e;if(!r)throw new Error("Can't find the element");return this.get(r)[t](r,...n)}}let $;D.Map=I,D.WeakMap=x,D.weak=function(e,...t){const n=new x;return[n,D({$map:[n,e]},...t)]},D.strong=function(e,...t){const n=new I;return[n,D({$map:[n,e]},...t)]},D.symbol=D.sym=D.for=function(e,t){return("string"==typeof e?m(e):e)["symbol"==typeof t?t:Symbol.for(t)]},D.command=function(e,t,n,...r){if(!(e="string"==typeof e?m(e):e))throw new Error("No element found");let s;if(["symbol","string"].includes(typeof t))return s=D.sym(e,t),"function"==typeof s?s(n,...r):s[n](...r);if(s=t.get(e),!s)throw new Error("No map found");return"function"==typeof s?s.call(e,n,...r):s[n](e,...r)},D.setWindow=e=>{n=e,a=n?.document,a&&a.body&&($=a.body)},D.getWindow=()=>{if(!n)throw new Error("No window object set");return n},a&&a.body&&($=a.body);function V(e,t){return n=>{null===n?i("sundriven",{},C(e,t)):t(n)}}function C(e,t){return n=>{if(!n)return alert(e("ERROR: Problem setting storage; refreshing page to try to resolve...")),void location.reload();t&&t(n)}}function L(e,t,n){return n.inputs&&n.inputs.forEach(e=>{t[e]=m("#"+e).value}),n.checkboxes&&n.checkboxes.forEach(e=>{t[e]=m("#"+e).checked}),n.radios&&n.radios.forEach(n=>{t[n]=[...m("#"+e)[n]].find(e=>e.checked).id}),t}let F=!1;function j(e,t,n){if(!navigator.geolocation)throw alert(e("Your browser does not support or does not have Geolocation enabled")),new Error("Discontinue");return navigator.geolocation.getCurrentPosition(t,n||function(t){alert(e("geo_error",t.code,t.message))})}let Z=class extends Error{},z=class extends Z{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},A=class extends Z{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},W=class extends Z{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},q=class extends Z{},_=class extends Z{constructor(e){super(`Invalid unit ${e}`)}},U=class extends Z{},R=class extends Z{constructor(){super("Zone is an abstract class")}};const H="numeric",P="short",Y="long",J={year:H,month:H,day:H},G={year:H,month:P,day:H},B={year:H,month:P,day:H,weekday:P},Q={year:H,month:Y,day:H},X={year:H,month:Y,day:H,weekday:Y},K={hour:H,minute:H},ee={hour:H,minute:H,second:H},te={hour:H,minute:H,second:H,timeZoneName:P},ne={hour:H,minute:H,second:H,timeZoneName:Y},re={hour:H,minute:H,hour12:!1},se={hour:H,minute:H,second:H,hour12:!1},ie={hour:H,minute:H,second:H,hour12:!1,timeZoneName:P},ae={hour:H,minute:H,second:H,hour12:!1,timeZoneName:Y},oe={year:H,month:H,day:H,hour:H,minute:H},ue={year:H,month:H,day:H,hour:H,minute:H,second:H},le={year:H,month:P,day:H,hour:H,minute:H},ce={year:H,month:P,day:H,hour:H,minute:H,second:H},de={year:H,month:P,day:H,weekday:P,hour:H,minute:H},he={year:H,month:Y,day:H,hour:H,minute:H,timeZoneName:P},me={year:H,month:Y,day:H,hour:H,minute:H,second:H,timeZoneName:P},fe={year:H,month:Y,day:H,weekday:Y,hour:H,minute:H,timeZoneName:Y},ye={year:H,month:Y,day:H,weekday:Y,hour:H,minute:H,second:H,timeZoneName:Y};function ge(e){return void 0===e}function pe(e){return"number"==typeof e}function we(e){return"number"==typeof e&&e%1==0}function be(){try{return"undefined"!=typeof Intl&&Intl.DateTimeFormat}catch(e){return!1}}function ve(){return!ge(Intl.DateTimeFormat.prototype.formatToParts)}function ke(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Se(e,t,n){if(0!==e.length)return e.reduce((e,r)=>{const s=[t(r),r];return e&&n(e[0],s[0])===e[0]?e:s},null)[1]}function Te(e,t){return t.reduce((t,n)=>(t[n]=e[n],t),{})}function Oe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ne(e,t,n){return we(e)&&e>=t&&e<=n}function Me(e,t=2){const n=e<0?"-":"",r=n?-1*e:e;let s;return s=r.toString().length<t?("0".repeat(t)+r).slice(-t):r.toString(),`${n}${s}`}function De(e){return ge(e)||null===e||""===e?void 0:parseInt(e,10)}function Ee(e){if(!ge(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Ie(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function xe(e){return e%4==0&&(e%100!=0||e%400==0)}function $e(e){return xe(e)?366:365}function Ve(e,t){const n=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===n?xe(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Ce(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function Le(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===t||3===r?53:52}function Fe(e){return e>99?e:e>60?1900+e:2e3+e}function je(e,t,n,r=null){const s=new Date(e),i={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const a=Object.assign({timeZoneName:t},i),o=be();if(o&&ve()){const e=new Intl.DateTimeFormat(n,a).formatToParts(s).find(e=>"timezonename"===e.type.toLowerCase());return e?e.value:null}if(o){const e=new Intl.DateTimeFormat(n,i).format(s);return new Intl.DateTimeFormat(n,a).format(s).substring(e.length).replace(/^[, \u200e]+/,"")}return null}function Ze(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function ze(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new U(`Invalid unit value ${e}`);return t}function Ae(e,t,n){const r={};for(const s in e)if(Oe(e,s)){if(n.indexOf(s)>=0)continue;const i=e[s];if(null==i)continue;r[t(s)]=ze(i)}return r}function We(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${Me(n,2)}:${Me(r,2)}`;case"narrow":return`${s}${n}${r>0?`:${r}`:""}`;case"techie":return`${s}${Me(n,2)}${Me(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function qe(e){return Te(e,["hour","minute","second","millisecond"])}const _e=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function Ue(e){return JSON.stringify(e,Object.keys(e).sort())}const Re=["January","February","March","April","May","June","July","August","September","October","November","December"],He=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Pe=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ye(e){switch(e){case"narrow":return[...Pe];case"short":return[...He];case"long":return[...Re];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Je=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ge=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Be=["M","T","W","T","F","S","S"];function Qe(e){switch(e){case"narrow":return[...Be];case"short":return[...Ge];case"long":return[...Je];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Xe=["AM","PM"],Ke=["Before Christ","Anno Domini"],et=["BC","AD"],tt=["B","A"];function nt(e){switch(e){case"narrow":return[...tt];case"short":return[...et];case"long":return[...Ke];default:return null}}function rt(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const st={D:J,DD:G,DDD:Q,DDDD:X,t:K,tt:ee,ttt:te,tttt:ne,T:re,TT:se,TTT:ie,TTTT:ae,f:oe,ff:le,fff:he,ffff:fe,F:ue,FF:ce,FFF:me,FFFF:ye};let it=class e{static create(t,n={}){return new e(t,n)}static parseFormat(e){let t=null,n="",r=!1;const s=[];for(let i=0;i<e.length;i++){const a=e.charAt(i);"'"===a?(n.length>0&&s.push({literal:r,val:n}),t=null,n="",r=!r):r||a===t?n+=a:(n.length>0&&s.push({literal:!1,val:n}),n=a,t=a)}return n.length>0&&s.push({literal:r,val:n}),s}static macroTokenToFormatOpts(e){return st[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,Object.assign({},this.opts,t)).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).formatToParts()}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Me(e,t);const n=Object.assign({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(t,n){const r="en"===this.loc.listingMode(),s=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&ve(),i=(e,n)=>this.loc.extract(t,e,n),a=e=>t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):"",o=()=>r?function(e){return Xe[e.hour<12?0:1]}(t):i({hour:"numeric",hour12:!0},"dayperiod"),u=(e,n)=>r?function(e,t){return Ye(t)[e.month-1]}(t,e):i(n?{month:e}:{month:e,day:"numeric"},"month"),l=(e,n)=>r?function(e,t){return Qe(t)[e.weekday-1]}(t,e):i(n?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday"),c=n=>{const r=e.macroTokenToFormatOpts(n);return r?this.formatWithSystemDefault(t,r):n},d=e=>r?function(e,t){return nt(t)[e.year<0?0:1]}(t,e):i({era:e},"era");return rt(e.parseFormat(n),e=>{switch(e){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return o();case"d":return s?i({day:"numeric"},"day"):this.num(t.day);case"dd":return s?i({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return s?i({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?i({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return s?i({month:"numeric"},"month"):this.num(t.month);case"MM":return s?i({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return s?i({year:"numeric"},"year"):this.num(t.year);case"yy":return s?i({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?i({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?i({year:"numeric"},"year"):this.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return c(e)}})}formatDurationFromString(t,n){const r=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},s=e.parseFormat(n),i=s.reduce((e,{literal:t,val:n})=>t?e:e.concat(n),[]);return rt(s,(e=>t=>{const n=r(t);return n?this.num(e.get(n),t.length):t})(t.shiftTo(...i.map(r).filter(e=>e))))}},at=class{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},ot=class{get type(){throw new R}get name(){throw new R}get universal(){throw new R}offsetName(e,t){throw new R}formatOffset(e,t){throw new R}offset(e){throw new R}equals(e){throw new R}get isValid(){throw new R}},ut=null;class lt extends ot{static get instance(){return null===ut&&(ut=new lt),ut}get type(){return"local"}get name(){return be()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}get universal(){return!1}offsetName(e,{format:t,locale:n}){return je(e,t,n)}formatOffset(e,t){return We(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"local"===e.type}get isValid(){return!0}}const ct=RegExp(`^${_e.source}$`);let dt={};const ht={year:0,month:1,day:2,hour:3,minute:4,second:5};let mt={},ft=class e extends ot{static create(t){return mt[t]||(mt[t]=new e(t)),mt[t]}static resetCache(){mt={},dt={}}static isValidSpecifier(e){return!(!e||!e.match(ct))}static isValidZone(e){try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}static parseGMTOffset(e){if(e){const t=e.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(t)return-60*parseInt(t[1])}return null}constructor(t){super(),this.zoneName=t,this.valid=e.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get universal(){return!1}offsetName(e,{format:t,locale:n}){return je(e,t,n,this.name)}formatOffset(e,t){return We(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const n=(l=this.name,dt[l]||(dt[l]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),dt[l]),[r,s,i,a,o,u]=n.formatToParts?function(e,t){const n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){const{type:t,value:s}=n[e],i=ht[t];ge(i)||(r[i]=parseInt(s,10))}return r}(n,t):function(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n),[,s,i,a,o,u,l]=r;return[a,s,i,o,u,l]}(n,t);var l;let c=+t;const d=c%1e3;return c-=d>=0?d:1e3+d,(Ce({year:r,month:s,day:i,hour:24===a?0:a,minute:o,second:u,millisecond:0})-c)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}},yt=null,gt=class e extends ot{static get utcInstance(){return null===yt&&(yt=new e(0)),yt}static instance(t){return 0===t?e.utcInstance:new e(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new e(Ze(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${We(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return We(this.fixed,t)}get universal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}},pt=class extends ot{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get universal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function wt(e,t){let n;if(ge(e)||null===e)return t;if(e instanceof ot)return e;if("string"==typeof e){const r=e.toLowerCase();return"local"===r?t:"utc"===r||"gmt"===r?gt.utcInstance:null!=(n=ft.parseGMTOffset(e))?gt.instance(n):ft.isValidSpecifier(r)?ft.create(e):gt.parseSpecifier(r)||new pt(e)}return pe(e)?gt.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new pt(e)}let bt=()=>Date.now(),vt=null,kt=null,St=null,Tt=null,Ot=!1,Nt=class e{static get now(){return bt}static set now(e){bt=e}static get defaultZoneName(){return e.defaultZone.name}static set defaultZoneName(e){vt=e?wt(e):null}static get defaultZone(){return vt||lt.instance}static get defaultLocale(){return kt}static set defaultLocale(e){kt=e}static get defaultNumberingSystem(){return St}static set defaultNumberingSystem(e){St=e}static get defaultOutputCalendar(){return Tt}static set defaultOutputCalendar(e){Tt=e}static get throwOnInvalid(){return Ot}static set throwOnInvalid(e){Ot=e}static resetCaches(){Ft.resetCache(),ft.resetCache()}},Mt={};function Dt(e,t={}){const n=JSON.stringify([e,t]);let r=Mt[n];return r||(r=new Intl.DateTimeFormat(e,t),Mt[n]=r),r}let Et={};let It={};let xt=null;function $t(e,t,n,r,s){const i=e.listingMode(n);return"error"===i?null:"en"===i?r(t):s(t)}let Vt=class{constructor(e,t,n){if(this.padTo=n.padTo||0,this.floor=n.floor||!1,!t&&be()){const t={useGrouping:!1};n.padTo>0&&(t.minimumIntegerDigits=n.padTo),this.inf=function(e,t={}){const n=JSON.stringify([e,t]);let r=Et[n];return r||(r=new Intl.NumberFormat(e,t),Et[n]=r),r}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return Me(this.floor?Math.floor(e):Ie(e,3),this.padTo)}},Ct=class{constructor(e,t,n){let r;if(this.opts=n,this.hasIntl=be(),e.zone.universal&&this.hasIntl){const t=e.offset/60*-1,s=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`,i=ft.isValidZone(s);0!==e.offset&&i?(r=s,this.dt=e):(r="UTC",n.timeZoneName?this.dt=e:this.dt=0===e.offset?e:jr.fromMillis(e.ts+60*e.offset*1e3))}else"local"===e.zone.type?this.dt=e:(this.dt=e,r=e.zone.name);if(this.hasIntl){const e=Object.assign({},this.opts);r&&(e.timeZone=r),this.dtf=Dt(t,e)}}format(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());{const e=function(e){const t="EEEE, LLLL d, yyyy, h:mm a";switch(Ue(Te(e,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case Ue(J):return"M/d/yyyy";case Ue(G):return"LLL d, yyyy";case Ue(B):return"EEE, LLL d, yyyy";case Ue(Q):return"LLLL d, yyyy";case Ue(X):return"EEEE, LLLL d, yyyy";case Ue(K):return"h:mm a";case Ue(ee):return"h:mm:ss a";case Ue(te):case Ue(ne):return"h:mm a";case Ue(re):return"HH:mm";case Ue(se):return"HH:mm:ss";case Ue(ie):case Ue(ae):return"HH:mm";case Ue(oe):return"M/d/yyyy, h:mm a";case Ue(le):return"LLL d, yyyy, h:mm a";case Ue(he):return"LLLL d, yyyy, h:mm a";case Ue(fe):return t;case Ue(ue):return"M/d/yyyy, h:mm:ss a";case Ue(ce):return"LLL d, yyyy, h:mm:ss a";case Ue(de):return"EEE, d LLL yyyy, h:mm a";case Ue(me):return"LLLL d, yyyy, h:mm:ss a";case Ue(ye):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return t}}(this.opts),t=Ft.create("en-US");return it.create(t).formatDateTimeFromString(this.dt,e)}}formatToParts(){return this.hasIntl&&ve()?this.dtf.formatToParts(this.dt.toJSDate()):[]}resolvedOptions(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}}},Lt=class{constructor(e,t,n){this.opts=Object.assign({style:"long"},n),!t&&ke()&&(this.rtf=function(e,t={}){const{base:n,...r}=t,s=JSON.stringify([e,r]);let i=It[s];return i||(i=new Intl.RelativeTimeFormat(e,t),It[s]=i),i}(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&i){const n="days"===e;switch(t){case 1:return n?"tomorrow":`next ${s[e][0]}`;case-1:return n?"yesterday":`last ${s[e][0]}`;case 0:return n?"today":`this ${s[e][0]}`}}const a=Object.is(t,-0)||t<0,o=Math.abs(t),u=1===o,l=s[e],c=r?u?l[1]:l[2]||l[1]:u?s[e][0]:e;return a?`${o} ${c} ago`:`in ${o} ${c}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}},Ft=class e{static fromOpts(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,n,r,s=!1){const i=t||Nt.defaultLocale,a=i||(s?"en-US":function(){if(xt)return xt;if(be()){const e=(new Intl.DateTimeFormat).resolvedOptions().locale;return xt=e&&"und"!==e?e:"en-US",xt}return xt="en-US",xt}()),o=n||Nt.defaultNumberingSystem,u=r||Nt.defaultOutputCalendar;return new e(a,o,u,i)}static resetCache(){xt=null,Mt={},Et={},It={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:r}={}){return e.create(t,n,r)}constructor(e,t,n,r){const[s,i,a]=function(e){const t=e.indexOf("-u-");if(-1===t)return[e];{let n;const r=e.substring(0,t);try{n=Dt(e).resolvedOptions()}catch(e){n=Dt(r).resolvedOptions()}const{numberingSystem:s,calendar:i}=n;return[r,s,i]}}(e);this.locale=s,this.numberingSystem=t||i||null,this.outputCalendar=n||a||null,this.intl=function(e,t,n){return be()?n||t?(e+="-u",n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`),e):e:[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||be()&&"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(e=!0){const t=be()&&ve(),n=this.isEnglish(),r=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return t||n&&r||e?!t||n&&r?"en":"intl":"error"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone(Object.assign({},e,{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(Object.assign({},e,{defaultToEN:!1}))}months(e,t=!1,n=!0){return $t(this,e,n,Ye,()=>{const n=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=function(e){const t=[];for(let n=1;n<=12;n++){const r=jr.utc(2016,n,1);t.push(e(r))}return t}(e=>this.extract(e,n,"month"))),this.monthsCache[r][e]})}weekdays(e,t=!1,n=!0){return $t(this,e,n,Qe,()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=function(e){const t=[];for(let n=1;n<=7;n++){const r=jr.utc(2016,11,13+n);t.push(e(r))}return t}(e=>this.extract(e,n,"weekday"))),this.weekdaysCache[r][e]})}meridiems(e=!0){return $t(this,void 0,e,()=>Xe,()=>{if(!this.meridiemCache){const e={hour:"numeric",hour12:!0};this.meridiemCache=[jr.utc(2016,11,13,9),jr.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e,t=!0){return $t(this,e,t,nt,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[jr.utc(-40,1,1),jr.utc(2017,1,1)].map(e=>this.extract(e,t,"era"))),this.eraCache[e]})}extract(e,t,n){const r=this.dtFormatter(e,t).formatToParts().find(e=>e.type.toLowerCase()===n);return r?r.value:null}numberFormatter(e={}){return new Vt(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Ct(e,this.intl,t)}relFormatter(e={}){return new Lt(this.intl,this.isEnglish(),e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||be()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}};function jt(...e){const t=e.reduce((e,t)=>e+t.source,"");return RegExp(`^${t}$`)}function Zt(...e){return t=>e.reduce(([e,n,r],s)=>{const[i,a,o]=s(t,r);return[Object.assign(e,i),n||a,o]},[{},null,1]).slice(0,2)}function zt(e,...t){if(null==e)return[null,null];for(const[n,r]of t){const t=n.exec(e);if(t)return r(t)}return[null,null]}function At(...e){return(t,n)=>{const r={};let s;for(s=0;s<e.length;s++)r[e[s]]=De(t[n+s]);return[r,null,n+s]}}const Wt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,qt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,_t=RegExp(`${qt.source}${Wt.source}?`),Ut=RegExp(`(?:T${_t.source})?`),Rt=At("weekYear","weekNumber","weekDay"),Ht=At("year","ordinal"),Pt=RegExp(`${qt.source} ?(?:${Wt.source}|(${_e.source}))?`),Yt=RegExp(`(?: ${Pt.source})?`);function Jt(e,t,n){const r=e[t];return ge(r)?n:De(r)}function Gt(e,t){return[{year:Jt(e,t),month:Jt(e,t+1,1),day:Jt(e,t+2,1)},null,t+3]}function Bt(e,t){return[{hours:Jt(e,t,0),minutes:Jt(e,t+1,0),seconds:Jt(e,t+2,0),milliseconds:Ee(e[t+3])},null,t+4]}function Qt(e,t){const n=!e[t]&&!e[t+1],r=Ze(e[t+1],e[t+2]);return[{},n?null:gt.instance(r),t+3]}function Xt(e,t){return[{},e[t]?ft.create(e[t]):null,t+1]}const Kt=RegExp(`^T?${qt.source}$`),en=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function tn(e){const[t,n,r,s,i,a,o,u,l]=e,c="-"===t[0],d=u&&"-"===u[0],h=(e,t=!1)=>void 0!==e&&(t||e&&c)?-e:e;return[{years:h(De(n)),months:h(De(r)),weeks:h(De(s)),days:h(De(i)),hours:h(De(a)),minutes:h(De(o)),seconds:h(De(u),"-0"===u),milliseconds:h(Ee(l),d)}]}const nn={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function rn(e,t,n,r,s,i,a){const o={year:2===t.length?Fe(De(t)):De(t),month:He.indexOf(n)+1,day:De(r),hour:De(s),minute:De(i)};return a&&(o.second=De(a)),e&&(o.weekday=e.length>3?Je.indexOf(e)+1:Ge.indexOf(e)+1),o}const sn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function an(e){const[,t,n,r,s,i,a,o,u,l,c,d]=e,h=rn(t,s,r,n,i,a,o);let m;return m=u?nn[u]:l?0:Ze(c,d),[h,new gt(m)]}const on=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,un=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ln=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function cn(e){const[,t,n,r,s,i,a,o]=e;return[rn(t,s,r,n,i,a,o),gt.utcInstance]}function dn(e){const[,t,n,r,s,i,a,o]=e;return[rn(t,o,n,r,s,i,a),gt.utcInstance]}const hn=jt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Ut),mn=jt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ut),fn=jt(/(\d{4})-?(\d{3})/,Ut),yn=jt(_t),gn=Zt(Gt,Bt,Qt),pn=Zt(Rt,Bt,Qt),wn=Zt(Ht,Bt,Qt),bn=Zt(Bt,Qt);const vn=Zt(Bt);const kn=jt(/(\d{4})-(\d\d)-(\d\d)/,Yt),Sn=jt(Pt),Tn=Zt(Gt,Bt,Qt,Xt),On=Zt(Bt,Qt,Xt);const Nn={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Mn=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Nn),Dn=365.2425,En=30.436875,In=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:Dn,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:En,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Nn),xn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],$n=xn.slice(0).reverse();function Vn(e,t,n=!1){const r={values:n?t.values:Object.assign({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new Ln(r)}function Cn(e,t,n,r,s){const i=e[s][n],a=t[n]/i,o=!(Math.sign(a)===Math.sign(r[s]))&&0!==r[s]&&Math.abs(a)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(a):Math.trunc(a);r[s]+=o,t[n]-=o*i}let Ln=class e{constructor(e){const t="longterm"===e.conversionAccuracy||!1;this.values=e.values,this.loc=e.loc||Ft.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?In:Mn,this.isLuxonDuration=!0}static fromMillis(t,n){return e.fromObject(Object.assign({milliseconds:t},n))}static fromObject(t){if(null==t||"object"!=typeof t)throw new U("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new e({values:Ae(t,e.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:Ft.fromObject(t),conversionAccuracy:t.conversionAccuracy})}static fromISO(t,n){const[r]=function(e){return zt(e,[en,tn])}(t);if(r){const t=Object.assign(r,n);return e.fromObject(t)}return e.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){const[r]=function(e){return zt(e,[Kt,vn])}(t);if(r){const t=Object.assign(r,n);return e.fromObject(t)}return e.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new U("need to specify a reason the Duration is invalid");const r=t instanceof at?t:new at(t,n);if(Nt.throwOnInvalid)throw new W(r);return new e({invalid:r})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new _(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n=Object.assign({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?it.create(this.loc,n).formatDurationFromString(this,e):"Invalid Duration"}toObject(e={}){if(!this.isValid)return{};const t=Object.assign({},this.values);return e.includeConfig&&(t.conversionAccuracy=this.conversionAccuracy,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Ie(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);const n=this.shiftTo("hours","minutes","seconds","milliseconds");let r="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===n.milliseconds||(r+=".SSS"));let s=n.toFormat(r);return e.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Fn(e),n={};for(const e of xn)(Oe(t.values,e)||Oe(this.values,e))&&(n[e]=t.get(e)+this.get(e));return Vn(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=Fn(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=ze(e(this.values[n],n));return Vn(this,{values:t},!0)}get(t){return this[e.normalizeUnit(t)]}set(t){if(!this.isValid)return this;return Vn(this,{values:Object.assign(this.values,Ae(t,e.normalizeUnit,[]))})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n}={}){const r={loc:this.loc.clone({locale:e,numberingSystem:t})};return n&&(r.conversionAccuracy=n),Vn(this,r)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return function(e,t){$n.reduce((n,r)=>ge(t[r])?n:(n&&Cn(e,t,n,t,r),r),null)}(this.matrix,e),Vn(this,{values:e},!0)}shiftTo(...t){if(!this.isValid)return this;if(0===t.length)return this;t=t.map(t=>e.normalizeUnit(t));const n={},r={},s=this.toObject();let i;for(const e of xn)if(t.indexOf(e)>=0){i=e;let t=0;for(const n in r)t+=this.matrix[n][e]*r[n],r[n]=0;pe(s[e])&&(t+=s[e]);const a=Math.trunc(t);n[e]=a,r[e]=t-a;for(const t in s)xn.indexOf(t)>xn.indexOf(e)&&Cn(this.matrix,s,t,n,e)}else pe(s[e])&&(r[e]=s[e]);for(const e in r)0!==r[e]&&(n[i]+=e===i?r[e]:r[e]/this.matrix[i][e]);return Vn(this,{values:n},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=-this.values[t];return Vn(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;function t(e,t){return void 0===e||0===e?void 0===t||0===t:e===t}for(const n of xn)if(!t(this.values[n],e.values[n]))return!1;return!0}};function Fn(e){if(pe(e))return Ln.fromMillis(e);if(Ln.isDuration(e))return e;if("object"==typeof e)return Ln.fromObject(e);throw new U(`Unknown duration argument ${e} of type ${typeof e}`)}const jn="Invalid Interval";let Zn=class e{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new U("need to specify a reason the Interval is invalid");const r=t instanceof at?t:new at(t,n);if(Nt.throwOnInvalid)throw new A(r);return new e({invalid:r})}static fromDateTimes(t,n){const r=Zr(t),s=Zr(n),i=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?Zn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:Zn.invalid("missing or invalid end"):Zn.invalid("missing or invalid start")}(r,s);return null==i?new e({start:r,end:s}):i}static after(t,n){const r=Fn(n),s=Zr(t);return e.fromDateTimes(s,s.plus(r))}static before(t,n){const r=Fn(n),s=Zr(t);return e.fromDateTimes(s.minus(r),s)}static fromISO(t,n){const[r,s]=(t||"").split("/",2);if(r&&s){let t,i,a,o;try{t=jr.fromISO(r,n),i=t.isValid}catch(s){i=!1}try{a=jr.fromISO(s,n),o=a.isValid}catch(s){o=!1}if(i&&o)return e.fromDateTimes(t,a);if(i){const r=Ln.fromISO(s,n);if(r.isValid)return e.after(t,r)}else if(o){const t=Ln.fromISO(r,n);if(t.isValid)return e.before(a,t)}}return e.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&(this.s<=e&&this.e>e)}set({start:t,end:n}={}){return this.isValid?e.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(Zr).filter(e=>this.contains(e)).sort(),r=[];let{s:s}=this,i=0;for(;s<this.e;){const t=n[i]||this.e,a=+t>+this.e?this.e:t;r.push(e.fromDateTimes(s,a)),s=a,i+=1}return r}splitBy(t){const n=Fn(t);if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[];let r,{s:s}=this,i=1;const a=[];for(;s<this.e;){const t=this.start.plus(n.mapUnits(e=>e*i));r=+t>+this.e?this.e:t,a.push(e.fromDateTimes(s,r)),s=r,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e===+e.s}abutsEnd(e){return!!this.isValid&&+e.e===+this.s}engulfs(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:e.fromDateTimes(n,r)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return e.fromDateTimes(n,r)}static merge(e){const[t,n]=e.sort((e,t)=>e.s-t.s).reduce(([e,t],n)=>t?t.overlaps(n)||t.abutsStart(n)?[e,t.union(n)]:[e.concat([t]),n]:[e,n],[[],null]);return n&&t.push(n),t}static xor(t){let n=null,r=0;const s=[],i=t.map(e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}]),a=Array.prototype.concat(...i).sort((e,t)=>e.time-t.time);for(const t of a)r+="s"===t.type?1:-1,1===r?n=t.time:(n&&+n!==+t.time&&s.push(e.fromDateTimes(n,t.time)),n=null);return e.merge(s)}difference(...t){return e.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:jn}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:jn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:jn}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:jn}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:jn}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Ln.invalid(this.invalidReason)}mapEndpoints(t){return e.fromDateTimes(t(this.s),t(this.e))}},zn=class{static hasDST(e=Nt.defaultZone){const t=jr.now().setZone(e).set({month:12});return!e.universal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return ft.isValidSpecifier(e)&&ft.isValidZone(e)}static normalizeZone(e){return wt(e,Nt.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Ft.create(t,n,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Ft.create(t,n,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Ft.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Ft.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ft.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Ft.create(t,null,"gregory").eras(e)}static features(){let e=!1,t=!1,n=!1,r=!1;if(be()){e=!0,t=ve(),r=ke();try{n="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch(e){n=!1}}return{intl:e,intlTokens:t,zones:n,relative:r}}};function An(e,t){const n=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(Ln.fromMillis(r).as("days"))}function Wn(e,t,n,r){let[s,i,a,o]=function(e,t,n){const r=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const n=An(e,t);return(n-n%7)/7}],["days",An]],s={};let i,a;for(const[o,u]of r)if(n.indexOf(o)>=0){i=o;let n=u(e,t);a=e.plus({[o]:n}),a>t?(e=e.plus({[o]:n-1}),n-=1):e=a,s[o]=n}return[e,s,a,i]}(e,t,n);const u=t-s,l=n.filter(e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0);0===l.length&&(a<t&&(a=s.plus({[o]:1})),a!==s&&(i[o]=(i[o]||0)+u/(a-s)));const c=Ln.fromObject(Object.assign(i,r));return l.length>0?Ln.fromMillis(u,r).shiftTo(...l).plus(c):c}const qn={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},_n={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Un=qn.hanidec.replace(/[\[|\]]/g,"").split("");function Rn({numberingSystem:e},t=""){return new RegExp(`${qn[e||"latn"]}${t}`)}function Hn(e,t=e=>e){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(-1!==e[n].search(qn.hanidec))t+=Un.indexOf(e[n]);else for(const e in _n){const[n,s]=_n[e];r>=n&&r<=s&&(t+=r-n)}}return parseInt(t,10)}return t}(e))}}const Pn=`( |${String.fromCharCode(160)})`,Yn=new RegExp(Pn,"g");function Jn(e){return e.replace(/\./g,"\\.?").replace(Yn,Pn)}function Gn(e){return e.replace(/\./g,"").replace(Yn," ").toLowerCase()}function Bn(e,t){return null===e?null:{regex:RegExp(e.map(Jn).join("|")),deser:([n])=>e.findIndex(e=>Gn(n)===Gn(e))+t}}function Qn(e,t){return{regex:e,deser:([,e,t])=>Ze(e,t),groups:t}}function Xn(e){return{regex:e,deser:([e])=>e}}const Kn={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};let er=null;function tr(e,t){if(e.literal)return e;const n=it.macroTokenToFormatOpts(e.val);if(!n)return e;const r=it.create(t,n).formatDateTimeParts((er||(er=jr.fromMillis(1555555555555)),er)).map(e=>function(e,t,n){const{type:r,value:s}=e;if("literal"===r)return{literal:!0,val:s};const i=n[r];let a=Kn[r];return"object"==typeof a&&(a=a[i]),a?{literal:!1,val:a}:void 0}(e,0,n));return r.includes(void 0)?e:r}function nr(e,t,n){const r=function(e,t){return Array.prototype.concat(...e.map(e=>tr(e,t)))}(it.parseFormat(n),e),s=r.map(t=>function(e,t){const n=Rn(t),r=Rn(t,"{2}"),s=Rn(t,"{3}"),i=Rn(t,"{4}"),a=Rn(t,"{6}"),o=Rn(t,"{1,2}"),u=Rn(t,"{1,3}"),l=Rn(t,"{1,6}"),c=Rn(t,"{1,9}"),d=Rn(t,"{2,4}"),h=Rn(t,"{4,6}"),m=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},f=(f=>{if(e.literal)return m(f);switch(f.val){case"G":return Bn(t.eras("short",!1),0);case"GG":return Bn(t.eras("long",!1),0);case"y":return Hn(l);case"yy":case"kk":return Hn(d,Fe);case"yyyy":case"kkkk":return Hn(i);case"yyyyy":return Hn(h);case"yyyyyy":return Hn(a);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Hn(o);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Hn(r);case"MMM":return Bn(t.months("short",!0,!1),1);case"MMMM":return Bn(t.months("long",!0,!1),1);case"LLL":return Bn(t.months("short",!1,!1),1);case"LLLL":return Bn(t.months("long",!1,!1),1);case"o":case"S":return Hn(u);case"ooo":case"SSS":return Hn(s);case"u":return Xn(c);case"a":return Bn(t.meridiems(),0);case"E":case"c":return Hn(n);case"EEE":return Bn(t.weekdays("short",!1,!1),1);case"EEEE":return Bn(t.weekdays("long",!1,!1),1);case"ccc":return Bn(t.weekdays("short",!0,!1),1);case"cccc":return Bn(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Qn(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return Qn(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return Xn(/[a-z_+-/]{1,256}?/i);default:return m(f)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return f.token=e,f}(t,e)),i=s.find(e=>e.invalidReason);if(i)return{input:t,tokens:r,invalidReason:i.invalidReason};{const[e,n]=function(e){return[`^${e.map(e=>e.regex).reduce((e,t)=>`${e}(${t.source})`,"")}$`,e]}(s),i=RegExp(e,"i"),[a,o]=function(e,t,n){const r=e.match(t);if(r){const e={};let t=1;for(const s in n)if(Oe(n,s)){const i=n[s],a=i.groups?i.groups+1:1;!i.literal&&i.token&&(e[i.token.val[0]]=i.deser(r.slice(t,t+a))),t+=a}return[r,e]}return[r,{}]}(t,i,n),[u,l]=o?function(e){let t;return t=ge(e.Z)?ge(e.z)?null:ft.create(e.z):new gt(e.Z),ge(e.q)||(e.M=3*(e.q-1)+1),ge(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),ge(e.u)||(e.S=Ee(e.u)),[Object.keys(e).reduce((t,n)=>{const r=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return r&&(t[r]=e[n]),t},{}),t]}(o):[null,null];if(Oe(o,"a")&&Oe(o,"H"))throw new q("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:i,rawMatches:a,matches:o,result:u,zone:l}}}const rr=[0,31,59,90,120,151,181,212,243,273,304,334],sr=[0,31,60,91,121,152,182,213,244,274,305,335];function ir(e,t){return new at("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function ar(e,t,n){const r=new Date(Date.UTC(e,t-1,n)).getUTCDay();return 0===r?7:r}function or(e,t,n){return n+(xe(e)?sr:rr)[t-1]}function ur(e,t){const n=xe(e)?sr:rr,r=n.findIndex(e=>e<t);return{month:r+1,day:t-n[r]}}function lr(e){const{year:t,month:n,day:r}=e,s=or(t,n,r),i=ar(t,n,r);let a,o=Math.floor((s-i+10)/7);return o<1?(a=t-1,o=Le(a)):o>Le(t)?(a=t+1,o=1):a=t,Object.assign({weekYear:a,weekNumber:o,weekday:i},qe(e))}function cr(e){const{weekYear:t,weekNumber:n,weekday:r}=e,s=ar(t,1,4),i=$e(t);let a,o=7*n+r-s-3;o<1?(a=t-1,o+=$e(a)):o>i?(a=t+1,o-=$e(t)):a=t;const{month:u,day:l}=ur(a,o);return Object.assign({year:a,month:u,day:l},qe(e))}function dr(e){const{year:t,month:n,day:r}=e,s=or(t,n,r);return Object.assign({year:t,ordinal:s},qe(e))}function hr(e){const{year:t,ordinal:n}=e,{month:r,day:s}=ur(t,n);return Object.assign({year:t,month:r,day:s},qe(e))}function mr(e){const t=we(e.year),n=Ne(e.month,1,12),r=Ne(e.day,1,Ve(e.year,e.month));return t?n?!r&&ir("day",e.day):ir("month",e.month):ir("year",e.year)}function fr(e){const{hour:t,minute:n,second:r,millisecond:s}=e,i=Ne(t,0,23)||24===t&&0===n&&0===r&&0===s,a=Ne(n,0,59),o=Ne(r,0,59),u=Ne(s,0,999);return i?a?o?!u&&ir("millisecond",s):ir("second",r):ir("minute",n):ir("hour",t)}const yr="Invalid DateTime",gr=864e13;function pr(e){return new at("unsupported zone",`the zone "${e.name}" is not supported`)}function wr(e){return null===e.weekData&&(e.weekData=lr(e.c)),e.weekData}function br(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new jr(Object.assign({},n,t,{old:n}))}function vr(e,t,n){let r=e-60*t*1e3;const s=n.offset(r);if(t===s)return[r,t];r-=60*(s-t)*1e3;const i=n.offset(r);return s===i?[r,s]:[e-60*Math.min(s,i)*1e3,Math.max(s,i)]}function kr(e,t){const n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Sr(e,t,n){return vr(Ce(e),t,n)}function Tr(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),i=Object.assign({},e.c,{year:r,month:s,day:Math.min(e.c.day,Ve(r,s))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),a=Ln.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=Ce(i);let[u,l]=vr(o,n,e.zone);return 0!==a&&(u+=a,l=e.zone.offset(u)),{ts:u,o:l}}function Or(e,t,n,r,s){const{setZone:i,zone:a}=n;if(e&&0!==Object.keys(e).length){const r=t||a,s=jr.fromObject(Object.assign(e,n,{zone:r,setZone:void 0}));return i?s:s.setZone(a)}return jr.invalid(new at("unparsable",`the input "${s}" can't be parsed as ${r}`))}function Nr(e,t,n=!0){return e.isValid?it.create(Ft.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Mr(e,{suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r,includePrefix:s=!1,includeZone:i=!1,spaceZone:a=!1,format:o="extended"}){let u="basic"===o?"HHmm":"HH:mm";t&&0===e.second&&0===e.millisecond||(u+="basic"===o?"ss":":ss",n&&0===e.millisecond||(u+=".SSS")),(i||r)&&a&&(u+=" "),i?u+="z":r&&(u+="basic"===o?"ZZZ":"ZZ");let l=Nr(e,u);return s&&(l="T"+l),l}const Dr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Er={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ir={ordinal:1,hour:0,minute:0,second:0,millisecond:0},xr=["year","month","day","hour","minute","second","millisecond"],$r=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Vr=["year","ordinal","hour","minute","second","millisecond"];function Cr(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new _(e);return t}function Lr(e,t){for(const t of xr)ge(e[t])&&(e[t]=Dr[t]);const n=mr(e)||fr(e);if(n)return jr.invalid(n);const r=Nt.now(),s=t.offset(r),[i,a]=Sr(e,s,t);return new jr({ts:i,zone:t,o:a})}function Fr(e,t,n){const r=!!ge(n.round)||n.round,s=(e,s)=>{e=Ie(e,r||n.calendary?0:2,!0);return t.loc.clone(n).relFormatter(n).format(e,s)},i=r=>n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(n.unit)return s(i(n.unit),n.unit);for(const e of n.units){const t=i(e);if(Math.abs(t)>=1)return s(t,e)}return s(e>t?-0:0,n.units[n.units.length-1])}let jr=class e{constructor(e){const t=e.zone||Nt.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new at("invalid input"):null)||(t.isValid?null:pr(t));this.ts=ge(e.ts)?Nt.now():e.ts;let r=null,s=null;if(!n){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,s]=[e.old.c,e.old.o];else{const e=t.offset(this.ts);r=kr(this.ts,e),n=Number.isNaN(r.year)?new at("invalid input"):null,r=n?null:r,s=n?null:e}}this._zone=t,this.loc=e.loc||Ft.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new e({})}static local(t,n,r,s,i,a,o){return ge(t)?e.now():Lr({year:t,month:n,day:r,hour:s,minute:i,second:a,millisecond:o},Nt.defaultZone)}static utc(t,n,r,s,i,a,o){return ge(t)?new e({ts:Nt.now(),zone:gt.utcInstance}):Lr({year:t,month:n,day:r,hour:s,minute:i,second:a,millisecond:o},gt.utcInstance)}static fromJSDate(t,n={}){const r=(s=t,"[object Date]"===Object.prototype.toString.call(s)?t.valueOf():NaN);var s;if(Number.isNaN(r))return e.invalid("invalid input");const i=wt(n.zone,Nt.defaultZone);return i.isValid?new e({ts:r,zone:i,loc:Ft.fromObject(n)}):e.invalid(pr(i))}static fromMillis(t,n={}){if(pe(t))return t<-gr||t>gr?e.invalid("Timestamp out of range"):new e({ts:t,zone:wt(n.zone,Nt.defaultZone),loc:Ft.fromObject(n)});throw new U(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(pe(t))return new e({ts:1e3*t,zone:wt(n.zone,Nt.defaultZone),loc:Ft.fromObject(n)});throw new U("fromSeconds requires a numerical input")}static fromObject(t){const n=wt(t.zone,Nt.defaultZone);if(!n.isValid)return e.invalid(pr(n));const r=Nt.now(),s=n.offset(r),i=Ae(t,Cr,["zone","locale","outputCalendar","numberingSystem"]),a=!ge(i.ordinal),o=!ge(i.year),u=!ge(i.month)||!ge(i.day),l=o||u,c=i.weekYear||i.weekNumber,d=Ft.fromObject(t);if((l||a)&&c)throw new q("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new q("Can't mix ordinal dates with month/day");const h=c||i.weekday&&!l;let m,f,y=kr(r,s);h?(m=$r,f=Er,y=lr(y)):a?(m=Vr,f=Ir,y=dr(y)):(m=xr,f=Dr);let g=!1;for(const e of m){ge(i[e])?i[e]=g?f[e]:y[e]:g=!0}const p=h?function(e){const t=we(e.weekYear),n=Ne(e.weekNumber,1,Le(e.weekYear)),r=Ne(e.weekday,1,7);return t?n?!r&&ir("weekday",e.weekday):ir("week",e.week):ir("weekYear",e.weekYear)}(i):a?function(e){const t=we(e.year),n=Ne(e.ordinal,1,$e(e.year));return t?!n&&ir("ordinal",e.ordinal):ir("year",e.year)}(i):mr(i),w=p||fr(i);if(w)return e.invalid(w);const b=h?cr(i):a?hr(i):i,[v,k]=Sr(b,s,n),S=new e({ts:v,zone:n,o:k,loc:d});return i.weekday&&l&&t.weekday!==S.weekday?e.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${S.toISO()}`):S}static fromISO(e,t={}){const[n,r]=function(e){return zt(e,[hn,gn],[mn,pn],[fn,wn],[yn,bn])}(e);return Or(n,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,r]=function(e){return zt(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[sn,an])}(e);return Or(n,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,r]=function(e){return zt(e,[on,cn],[un,cn],[ln,dn])}(e);return Or(n,r,t,"HTTP",t)}static fromFormat(t,n,r={}){if(ge(t)||ge(n))throw new U("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:i=null}=r,a=Ft.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),[o,u,l]=function(e,t,n){const{result:r,zone:s,invalidReason:i}=nr(e,t,n);return[r,s,i]}(a,t,n);return l?e.invalid(l):Or(o,u,r,`format ${n}`,t)}static fromString(t,n,r={}){return e.fromFormat(t,n,r)}static fromSQL(e,t={}){const[n,r]=function(e){return zt(e,[kn,Tn],[Sn,On])}(e);return Or(n,r,t,"SQL",e)}static invalid(t,n=null){if(!t)throw new U("need to specify a reason the DateTime is invalid");const r=t instanceof at?t:new at(t,n);if(Nt.throwOnInvalid)throw new z(r);return new e({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?wr(this).weekYear:NaN}get weekNumber(){return this.isValid?wr(this).weekNumber:NaN}get weekday(){return this.isValid?wr(this).weekday:NaN}get ordinal(){return this.isValid?dr(this.c).ordinal:NaN}get monthShort(){return this.isValid?zn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?zn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?zn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?zn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.universal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return xe(this.year)}get daysInMonth(){return Ve(this.year,this.month)}get daysInYear(){return this.isValid?$e(this.year):NaN}get weeksInWeekYear(){return this.isValid?Le(this.weekYear):NaN}resolvedLocaleOpts(e={}){const{locale:t,numberingSystem:n,calendar:r}=it.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(gt.instance(e),t)}toLocal(){return this.setZone(Nt.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if((t=wt(t,Nt.defaultZone)).equals(this.zone))return this;if(t.isValid){let e=this.ts;if(n||r){const n=t.offset(this.ts),r=this.toObject();[e]=Sr(r,n,t)}return br(this,{ts:e,zone:t})}return e.invalid(pr(t))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){return br(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Ae(e,Cr,[]),n=!ge(t.weekYear)||!ge(t.weekNumber)||!ge(t.weekday),r=!ge(t.ordinal),s=!ge(t.year),i=!ge(t.month)||!ge(t.day),a=s||i,o=t.weekYear||t.weekNumber;if((a||r)&&o)throw new q("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(i&&r)throw new q("Can't mix ordinal dates with month/day");let u;n?u=cr(Object.assign(lr(this.c),t)):ge(t.ordinal)?(u=Object.assign(this.toObject(),t),ge(t.day)&&(u.day=Math.min(Ve(u.year,u.month),u.day))):u=hr(Object.assign(dr(this.c),t));const[l,c]=Sr(u,this.o,this.zone);return br(this,{ts:l,o:c})}plus(e){if(!this.isValid)return this;return br(this,Tr(this,Fn(e)))}minus(e){if(!this.isValid)return this;return br(this,Tr(this,Fn(e).negate()))}startOf(e){if(!this.isValid)return this;const t={},n=Ln.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===n&&(t.weekday=1),"quarters"===n){const e=Math.ceil(this.month/3);t.month=3*(e-1)+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?it.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):yr}toLocaleString(e=J){return this.isValid?it.create(this.loc.clone(e),e).formatDateTime(this):yr}toLocaleParts(e={}){return this.isValid?it.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO(e={}){return this.isValid?`${this.toISODate(e)}T${this.toISOTime(e)}`:null}toISODate({format:e="extended"}={}){let t="basic"===e?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(t="+"+t),Nr(this,t)}toISOWeekDate(){return Nr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:r=!1,format:s="extended"}={}){return Mr(this,{suppressSeconds:t,suppressMilliseconds:e,includeOffset:n,includePrefix:r,format:s})}toRFC2822(){return Nr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Nr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return Nr(this,"yyyy-MM-dd")}toSQLTime({includeOffset:e=!0,includeZone:t=!1}={}){return Mr(this,{includeOffset:e,includeZone:t,spaceZone:!0})}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():yr}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t=Object.assign({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return Ln.invalid(this.invalid||e.invalid,"created by diffing an invalid DateTime");const r=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},n),s=(o=t,Array.isArray(o)?o:[o]).map(Ln.normalizeUnit),i=e.valueOf()>this.valueOf(),a=Wn(i?this:e,i?e:this,s,r);var o;return i?a.negate():a}diffNow(t="milliseconds",n={}){return this.diff(e.now(),t,n)}until(e){return this.isValid?Zn.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=n&&n<=r.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||e.fromObject({zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],i=t.unit;return Array.isArray(t.unit)&&(s=t.unit,i=void 0),Fr(n,this.plus(r),Object.assign(t,{numeric:"always",units:s,unit:i}))}toRelativeCalendar(t={}){return this.isValid?Fr(t.base||e.fromObject({zone:this.zone}),this,Object.assign(t,{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...t){if(!t.every(e.isDateTime))throw new U("min requires all arguments be DateTimes");return Se(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(e.isDateTime))throw new U("max requires all arguments be DateTimes");return Se(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:r=null,numberingSystem:s=null}=n;return nr(Ft.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),e,t)}static fromStringExplain(t,n,r={}){return e.fromFormatExplain(t,n,r)}static get DATE_SHORT(){return J}static get DATE_MED(){return G}static get DATE_MED_WITH_WEEKDAY(){return B}static get DATE_FULL(){return Q}static get DATE_HUGE(){return X}static get TIME_SIMPLE(){return K}static get TIME_WITH_SECONDS(){return ee}static get TIME_WITH_SHORT_OFFSET(){return te}static get TIME_WITH_LONG_OFFSET(){return ne}static get TIME_24_SIMPLE(){return re}static get TIME_24_WITH_SECONDS(){return se}static get TIME_24_WITH_SHORT_OFFSET(){return ie}static get TIME_24_WITH_LONG_OFFSET(){return ae}static get DATETIME_SHORT(){return oe}static get DATETIME_SHORT_WITH_SECONDS(){return ue}static get DATETIME_MED(){return le}static get DATETIME_MED_WITH_SECONDS(){return ce}static get DATETIME_MED_WITH_WEEKDAY(){return de}static get DATETIME_FULL(){return he}static get DATETIME_FULL_WITH_SECONDS(){return me}static get DATETIME_HUGE(){return fe}static get DATETIME_HUGE_WITH_SECONDS(){return ye}};function Zr(e){if(jr.isDateTime(e))return e;if(e&&e.valueOf&&pe(e.valueOf()))return jr.fromJSDate(e);if(e&&"object"==typeof e)return jr.fromObject(e);throw new U(`Unknown datetime argument: ${e}, of type ${typeof e}`)}
/**
 * @license MeeusSunMoon v3.0.0
 * (c) 2018 Jan Greis
 * licensed under MIT
 */const zr=e=>.017453292519943295*e,Ar=e=>57.29577951308232*e,Wr=e=>Math.sin(zr(e)),qr=e=>Math.cos(zr(e)),_r=e=>e-360*Math.floor(e/360),Ur=(e,t)=>{let n=1,r=0;const s=t.length;for(let i=0;i<s;i++)r+=n*t[i],n*=e;return r},Rr=(e,t,n,r,s=!1)=>{let i=t-e,a=n-t;void 0!==s&&s&&(i<0&&(i+=360),a<0&&(a+=360));return t+r/2*(i+a+r*(a-i))},Hr=e=>{e+=.5;const t=Math.floor(e),n=e-t;let r=t;if(t>=2299161){const e=Math.floor((t-1867216.25)/36524.25);r+=1+e-Math.floor(e/4)}const s=r+1524,i=Math.floor((s-122.1)/365.25),a=Math.floor(365.25*i),o=Math.floor((s-a)/30.6001),u=s-a-Math.floor(30.6001*o)+n,l=Math.floor(u),c=Math.floor(24*(u-l)),d=Math.floor(60*(24*(u-l)-c)),h=Math.floor(60*(60*(24*(u-l)-c)-d));let m=o-1;o>13&&(m-=12);let f=i-4715;return m>2&&(f-=1),jr.fromISO("2000-01-01T12:00:00Z",{zone:"UTC"}).set({year:f,month:m,day:l,hour:c,minute:d,second:h})},Pr=e=>{return t=(e=>{let t=e.year,n=e.month;const r=e.day+(e.hour+(e.minute+e.second/60)/60)/24;n<3&&(t-=1,n+=12);const s=Math.floor(t/100);let i=0;return e>jr.fromISO("1582-10-15T12:00:00Z",{zone:"UTC"})&&(i=2-s+Math.floor(s/4)),Math.floor(365.25*(t+4716))+Math.floor(30.6001*(n+1))+r+i-1524.5})(e),(t-2451545)/36525;var t},Yr=e=>{let t,n,r=e.year;switch(r+=(e.month-.5)/12,!0){case r<-1999||r>3e3:throw new RangeError("DeltaT can only be calculated between 1999 BCE and 3000 CE");case r<-500:return t=(r-1820)/100,32*Math.pow(t,2)-20;case r<500:return t=r/100,Ur(t,[10583.6,-1014.41,33.78311,-5.952053,-.1798452,.022174192,.0090316521]);case r<1600:return t=(r-1e3)/100,Ur(t,[1574.2,-556.01,71.23472,.319781,-.8503463,-.005050998,.0083572073]);case r<1700:return n=r-1600,Ur(n,[120,-.9808,-.01532,1/7129]);case r<1800:return n=r-1700,Ur(n,[8.83,.1603,-.0059285,13336e-8,-1/1174e3]);case r<1860:return n=r-1800,Ur(n,[13.72,-.332447,.0068612,.0041116,-37436e-8,121272e-10,-1.699e-7,8.75e-10]);case r<1900:return n=r-1860,Ur(n,[7.62,.5737,-.251754,.01680668,-.0004473624,1/233174]);case r<1920:return n=r-1900,Ur(n,[-2.79,1.494119,-.0598939,.0061966,-197e-6]);case r<1941:return n=r-1920,Ur(n,[21.2,.84493,-.0761,.0020936]);case r<1961:return n=r-1950,Ur(n,[29.07,.407,-1/233,1/2547]);case r<1986:return n=r-1975,Ur(n,[45.45,1.067,-1/260,-1/718]);case r<2005:return n=r-2e3,Ur(n,[63.86,.3345,-.060374,.0017275,651814e-9,2373599e-11]);case r<2050:return n=r-2e3,Ur(n,[62.92,.32217,.005589]);case r<2150:return 32*Math.pow((r-1820)/100,2)-20-.5628*(2150-r);default:return t=(r-1820)/100,32*Math.pow(t,2)-20}};let Jr=!1,Gr=!1,Br={SUN_HIGH:"‡",SUN_LOW:"†"};const Qr=[357.52772,35999.05034,-1603e-7,-1/3e5],Xr=[280.46646,36000.76983,3032e-7],Kr=[84381.448/3600,-4680.93/3600,-1.55/3600,1999.25/3600,-51.38/3600,-249.67/3600,-39.05/3600,7.12/3600,27.87/3600,5.79/3600,2.45/3600],es=[93.27191,483202.017538,-.0036825,1/327270],ts=[125.04452,-1934.136261,.0020708,1/45e4],ns=[134.96298,477198.867398,.0086972,1/56250],rs=[297.85036,445267.11148,-.0019142,1/189474],ss=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[-2,0,0,2,2,-13187,-1.6,5736,-3.1],[0,0,0,2,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[0,0,1,0,0,712,.1,-7,0],[-2,1,0,2,2,-517,1.2,224,-.6],[0,0,0,2,1,-386,-.4,200,0],[0,0,1,2,2,-301,0,129,-.1],[-2,-1,0,2,2,217,-.5,-95,.3],[-2,0,1,0,0,-158,0,0,0],[-2,0,0,2,1,129,.1,-70,0],[0,0,-1,2,2,123,0,-53,0],[2,0,0,0,0,63,0,0,0],[0,0,1,0,1,63,.1,-33,0],[2,0,-1,2,2,-59,0,26,0],[0,0,-1,0,1,-58,-.1,32,0],[0,0,1,2,1,-51,0,27,0],[-2,0,2,0,0,48,0,0,0],[0,0,-2,2,1,46,0,-24,0],[2,0,0,2,2,-38,0,16,0],[0,0,2,2,2,-31,0,13,0],[0,0,2,0,0,29,0,0,0],[-2,0,1,2,2,29,0,-12,0],[0,0,0,2,0,26,0,0,0],[-2,0,0,2,0,-22,0,0,0],[0,0,-1,2,1,21,0,-10,0],[0,2,0,0,0,17,-.1,0,0],[2,0,-1,0,1,16,0,-8,0],[-2,2,0,2,2,-16,.1,7,0],[0,1,0,0,1,-15,0,9,0],[-2,0,1,0,1,-13,0,7,0],[0,-1,0,0,1,-12,0,6,0],[0,0,2,-2,0,11,0,0,0],[2,0,-1,2,1,-10,0,5,0],[2,0,1,2,2,-8,0,3,0],[0,1,0,2,2,7,0,-3,0],[-2,1,1,0,0,-7,0,0,0],[0,-1,0,2,2,-7,0,3,0],[2,0,0,2,1,-7,0,3,0],[2,0,1,0,0,6,0,0,0],[-2,0,2,2,2,6,0,-3,0],[-2,0,1,2,1,6,0,-3,0],[2,0,-2,0,1,-6,0,3,0],[2,0,0,0,1,-6,0,3,0],[0,-1,1,0,0,5,0,0,0],[-2,-1,0,2,1,-5,0,3,0],[-2,0,0,0,1,-5,0,3,0],[0,0,2,2,1,-5,0,3,0],[-2,0,2,0,1,4,0,0,0],[-2,1,0,2,1,4,0,0,0],[0,0,1,-2,0,4,0,0,0],[-1,0,1,0,0,-4,0,0,0],[-2,1,0,0,0,-4,0,0,0],[1,0,0,0,0,-4,0,0,0],[0,0,1,2,0,3,0,0,0],[0,0,-2,2,2,-3,0,0,0],[-1,-1,1,0,0,-3,0,0,0],[0,1,1,0,0,-3,0,0,0],[0,-1,1,2,2,-3,0,0,0],[2,-1,-1,2,2,-3,0,0,0],[0,0,3,2,2,3,0,0,0],[2,-1,0,2,2,-3,0,0,0]],is=(e,t,n,r,s=50/60)=>{const i=e.zone;let a=e.set({hour:0,minute:0,second:0,millisecond:0}).setZone("UTC",{keepLocalTime:!0});const o=Yr(a),u=Pr(a),l=ps(u),c=u-o/315576e4,d=ys(c),h=gs(c),m=os(t,h,s);let f,y=(d-n-l)/360;y=us(y,e.offset),f="RISE"===r?y-m/360:y+m/360;let g=0,p=1;for(;Math.abs(p)>1e-4&&g<3;)p=cs(u,l,o,t,n,f,s),f+=p,g++;return a=f>0?a.plus({seconds:Math.floor(3600*f*24+.5)}):a.minus({seconds:Math.floor(3600*Math.abs(f)*24+.5)}),Jr&&(a=a.plus({seconds:30}).set({second:0})),a.setZone(i)},as=(e,t,n,r=0)=>{if(Gr){const s=e.set({hour:n,minute:r,second:0}).plus({minutes:e.isInDST?60:0});return s.errorCode=t,s}return t},os=(e,t,n)=>{const r=(Wr(-n)-Wr(e)*Wr(t))/(qr(e)*qr(t));if(r<-1)throw Vs.SUN_HIGH;if(r>1)throw Vs.SUN_LOW;return Ar(Math.acos(r))},us=(e,t)=>{const n=e+t/1440;return n<0?e+1:n>1?e-1:e},ls=(e,t,n,r,s)=>{const i=t+360.985647*s,a=ms(e,s+n/864e3);return-ds(i,r,a)/360},cs=(e,t,n,r,s,i,a)=>{const o=t+360.985647*i,u=i+n/864e3,l=ms(e,u),c=fs(e,u),d=ds(o,s,l);return(hs(r,c,d)+a)/(360*qr(c)*qr(r)*Wr(d))},ds=(e,t,n)=>{let r=_r(e+t-n);return r>180&&(r-=360),r},hs=(e,t,n)=>Ar(Math.asin(Wr(e)*Wr(t)+qr(e)*qr(t)*qr(n))),ms=(e,t)=>{const n=ys(e-1/36525),r=ys(e),s=ys(e+1/36525),i=Rr(n,r,s,t,!0);return _r(i)},fs=(e,t)=>{const n=gs(e-1/36525),r=gs(e),s=gs(e+1/36525),i=Rr(n,r,s,t);return _r(i)},ys=e=>{const t=Ds(e),n=bs(e)+.00256*qr(t),r=ks(e),s=Ar(Math.atan2(qr(n)*Wr(r),qr(r)));return _r(s)},gs=e=>{const t=Ds(e),n=bs(e)+.00256*qr(t),r=ks(e);return Ar(Math.asin(Wr(n)*Wr(r)))},ps=e=>{const t=ws(e),n=bs(e),r=t+Os(e)*qr(n);return _r(r)},ws=e=>280.46061837+360.98564736629*(36525*e)+387933e-9*Math.pow(e,2)-Math.pow(e,3)/3871e4,bs=e=>vs(e)+Ns(e),vs=e=>Ur(e/100,Kr),ks=e=>{const t=Ss(e),n=Ds(e);return t-.00569-.00478*Wr(n)},Ss=e=>$s(e)+Ts(e),Ts=e=>{const t=xs(e);return(1.914602-.004817*e-14e-6*Math.pow(e,2))*Wr(t)+(.019993-101e-6*e)*Wr(2*t)+29e-5*Wr(3*t)},Os=e=>{const t=Is(e),n=xs(e),r=Es(e),s=Ms(e),i=Ds(e);let a,o=0;for(let u=0;u<63;u++)a=ss[u][0]*t+ss[u][1]*n+ss[u][2]*r+ss[u][3]*s+ss[u][4]*i,o+=(ss[u][5]+ss[u][6]*e)*Wr(a);return o/36e6},Ns=e=>{const t=Is(e),n=xs(e),r=Es(e),s=Ms(e),i=Ds(e);let a,o=0;for(let u=0;u<63;u++)a=ss[u][0]*t+ss[u][1]*n+ss[u][2]*r+ss[u][3]*s+ss[u][4]*i,o+=(ss[u][7]+ss[u][8]*e)*qr(a);return o/36e6},Ms=e=>{const t=Ur(e,es);return _r(t)},Ds=e=>{const t=Ur(e,ts);return _r(t)},Es=e=>{const t=Ur(e,ns);return _r(t)},Is=e=>{const t=Ur(e,rs);return _r(t)},xs=e=>{const t=Ur(e,Qr);return _r(t)},$s=e=>{const t=Ur(e,Xr);return _r(t)},Vs={SUN_HIGH:"SUN_HIGH",SUN_LOW:"SUN_LOW"},Cs=(e,t)=>{const n=(e=>e/1236.85)(e+=t/4),r=As(n),s=Ls(n,e),i=Fs(n,e),a=js(n,e),o=Zs(n,e),u=zs(n,e);let l=0;return 0===t||2===t?l+=qs(r,i,a,o,u,t):1!==t&&3!==t||(l+=_s(r,i,a,o,u,t)),l+=Ws(n,e),s+l},Ls=(e,t)=>2451550.09766+29.530588861*t+15437e-8*Math.pow(e,2)-15e-8*Math.pow(e,3)+7.3e-10*Math.pow(e,4),Fs=(e,t)=>2.5534+29.1053567*t-14e-7*Math.pow(e,2)-11e-8*Math.pow(e,3),js=(e,t)=>201.5643+385.81693528*t+.0107582*Math.pow(e,2)+1238e-8*Math.pow(e,3)-58e-9*Math.pow(e,4),Zs=(e,t)=>160.7108+390.67050284*t-.0016118*Math.pow(e,2)-227e-8*Math.pow(e,3)+11e-9*Math.pow(e,4),zs=(e,t)=>124.7746-1.56375588*t+.0020672*Math.pow(e,2)+215e-8*Math.pow(e,3),As=e=>1-.002516*e-74e-7*Math.pow(e,2),Ws=(e,t)=>{const n=[0,299.77+.107408*t-.009173*Math.pow(e,2),251.88+.016321*t,251.83+26.651886*t,349.42+36.412478*t,84.66+18.206239*t,141.74+53.303771*t,207.14+2.453732*t,154.84+7.30686*t,34.52+27.261239*t,207.19+.121824*t,291.34+1.844379*t,161.72+24.198154*t,239.56+25.513099*t,331.55+3.592518*t];return 325e-6*Wr(n[1])+165e-6*Wr(n[2])+164e-6*Wr(n[3])+126e-6*Wr(n[4])+11e-5*Wr(n[5])+62e-6*Wr(n[6])+6e-5*Wr(n[7])+56e-6*Wr(n[8])+47e-6*Wr(n[9])+42e-6*Wr(n[10])+4e-5*Wr(n[11])+37e-6*Wr(n[12])+35e-6*Wr(n[13])+23e-6*Wr(n[14])},qs=(e,t,n,r,s,i)=>{let a=-.00111*Wr(n-2*r)-57e-5*Wr(n+2*r)+56e-5*e*Wr(2*n+t)-42e-5*Wr(3*n)+42e-5*e*Wr(t+2*r)+38e-5*e*Wr(t-2*r)-24e-5*e*Wr(2*n-t)-17e-5*Wr(s)-7e-5*Wr(n+2*t)+4e-5*Wr(2*n-2*r)+4e-5*Wr(3*t)+3e-5*Wr(n+t-2*r)+3e-5*Wr(2*n+2*r)-3e-5*Wr(n+t+2*r)+3e-5*Wr(n-t+2*r)-2e-5*Wr(n-t-2*r)-2e-5*Wr(3*n+t)+2e-5*Wr(4*n);return 0===i?a+=-.4072*Wr(n)+.17241*e*Wr(t)+.01608*Wr(2*n)+.01039*Wr(2*r)+.00739*e*Wr(n-t)-.00514*e*Wr(n+t)+.00208*e*e*Wr(2*t):2===i&&(a+=-.40614*Wr(n)+.17302*e*Wr(t)+.01614*Wr(2*n)+.01043*Wr(2*r)+.00734*e*Wr(n-t)-.00515*e*Wr(n+t)+.00209*e*e*Wr(2*t)),a},_s=(e,t,n,r,s,i)=>{let a=-.62801*Wr(n)+.17172*e*Wr(t)-.01183*e*Wr(n+t)+.00862*Wr(2*n)+.00804*Wr(2*r)+.00454*e*Wr(n-t)+.00204*e*e*Wr(2*t)-.0018*Wr(n-2*r)-7e-4*Wr(n+2*r)-4e-4*Wr(3*n)-34e-5*e*Wr(2*n-t)+32e-5*e*Wr(t+2*r)+32e-5*e*Wr(t-2*r)-28e-5*e*e*Wr(n+2*t)+27e-5*e*Wr(2*n+t)-17e-5*Wr(s)-5e-5*Wr(n-t-2*r)+4e-5*Wr(2*n+2*r)-4e-5*Wr(n+t+2*r)+4e-5*Wr(n-2*t)+3e-5*Wr(n+t-2*r)+3e-5*Wr(3*t)+2e-5*Wr(2*n-2*r)+2e-5*Wr(n-t+2*r)-2e-5*Wr(3*n+t);const o=.00306-38e-5*e*qr(t)+26e-5*qr(n)-2e-5*qr(n-t)+2e-5*qr(n+t)+2e-5*qr(2*r);return 1===i?a+=o:3===i&&(a-=o),a},Us=(e,t,n="UTC")=>{const r=jr.fromObject({year:e,month:1,day:1,hour:0,minute:0,second:0,zone:n}),s=jr.fromObject({year:e+1,month:1,day:1,hour:0,minute:0,second:0,zone:n});let i=Math.floor(12.3685*((a=r).year+a.month/12+a.day/365.25-2e3))-1;var a;const o=[];let u,l,c;for(let e=0;e<15;e++)u=Cs(i,t),l=Hr(u).setZone(n),c=Yr(l),l=c>0?l.minus({seconds:Math.round(Math.abs(c))}):l.plus({seconds:Math.round(Math.abs(c))}),Jr&&(l=l.plus({seconds:30}).set({second:0})),l>=r&&l<s&&o.push(l),i++;return o};var Rs=Object.freeze({__proto__:null,astronomicalDawn:(e,t,n)=>{try{return is(e,t,n,"RISE",18)}catch(t){return as(e,t,4,30)}},astronomicalDusk:(e,t,n)=>{try{return is(e,t,n,"SET",18)}catch(t){return as(e,t,19,30)}},civilDawn:(e,t,n)=>{try{return is(e,t,n,"RISE",6)}catch(t){return as(e,t,5,30)}},civilDusk:(e,t,n)=>{try{return is(e,t,n,"SET",6)}catch(t){return as(e,t,18,30)}},format:(e,t)=>{const n=e.errorCode;let r=e.toFormat(t);return Br[n]&&(r+=Br[n]),r},nauticalDawn:(e,t,n)=>{try{return is(e,t,n,"RISE",12)}catch(t){return as(e,t,5)}},nauticalDusk:(e,t,n)=>{try{return is(e,t,n,"SET",12)}catch(t){return as(e,t,19)}},settings:e=>{"boolean"==typeof e.roundToNearestMinute&&(Jr=e.roundToNearestMinute),"boolean"==typeof e.returnTimeForNoEventCase&&(Gr=e.returnTimeForNoEventCase),"object"==typeof e.dateFormatKeys&&(Br=e.dateFormatKeys)},solarNoon:(e,t)=>((e,t)=>{const n=e.zone;let r=e.set({hour:0,minute:0,second:0,millisecond:0}).setZone("UTC",{keepLocalTime:!0});const s=Yr(r),i=Pr(r),a=ps(i);let o=(ys(i-s/315576e4)-t-a)/360;return o=us(o,e.offset),o+=ls(i,a,s,t,o),r=r.plus({seconds:Math.floor(3600*o*24+.5)}),Jr&&(r=r.plus({seconds:30}).set({second:0})),r.setZone(n)})(e,t),sunrise:(e,t,n)=>{try{return is(e,t,n,"RISE")}catch(t){return as(e,t,6)}},sunset:(e,t,n)=>{try{return is(e,t,n,"SET")}catch(t){return as(e,t,18)}},yearAllMoonPhases:(e,t="UTC")=>[...Us(e,0,t).map(e=>({datetime:e,phase:0})),...Us(e,1,t).map(e=>({datetime:e,phase:1})),...Us(e,2,t).map(e=>({datetime:e,phase:2})),...Us(e,3,t).map(e=>({datetime:e,phase:3}))].sort((e,t)=>e.datetime.valueOf()-t.datetime.valueOf()),yearMoonPhases:Us});class Hs extends Error{}class Ps extends Hs{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Ys extends Hs{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Js extends Hs{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Gs extends Hs{}class Bs extends Hs{constructor(e){super(`Invalid unit ${e}`)}}class Qs extends Hs{}class Xs extends Hs{constructor(){super("Zone is an abstract class")}}const Ks="numeric",ei="short",ti="long",ni={year:Ks,month:Ks,day:Ks},ri={year:Ks,month:ei,day:Ks},si={year:Ks,month:ei,day:Ks,weekday:ei},ii={year:Ks,month:ti,day:Ks},ai={year:Ks,month:ti,day:Ks,weekday:ti},oi={hour:Ks,minute:Ks},ui={hour:Ks,minute:Ks,second:Ks},li={hour:Ks,minute:Ks,second:Ks,timeZoneName:ei},ci={hour:Ks,minute:Ks,second:Ks,timeZoneName:ti},di={hour:Ks,minute:Ks,hourCycle:"h23"},hi={hour:Ks,minute:Ks,second:Ks,hourCycle:"h23"},mi={hour:Ks,minute:Ks,second:Ks,hourCycle:"h23",timeZoneName:ei},fi={hour:Ks,minute:Ks,second:Ks,hourCycle:"h23",timeZoneName:ti},yi={year:Ks,month:Ks,day:Ks,hour:Ks,minute:Ks},gi={year:Ks,month:Ks,day:Ks,hour:Ks,minute:Ks,second:Ks},pi={year:Ks,month:ei,day:Ks,hour:Ks,minute:Ks},wi={year:Ks,month:ei,day:Ks,hour:Ks,minute:Ks,second:Ks},bi={year:Ks,month:ei,day:Ks,weekday:ei,hour:Ks,minute:Ks},vi={year:Ks,month:ti,day:Ks,hour:Ks,minute:Ks,timeZoneName:ei},ki={year:Ks,month:ti,day:Ks,hour:Ks,minute:Ks,second:Ks,timeZoneName:ei},Si={year:Ks,month:ti,day:Ks,weekday:ti,hour:Ks,minute:Ks,timeZoneName:ti},Ti={year:Ks,month:ti,day:Ks,weekday:ti,hour:Ks,minute:Ks,second:Ks,timeZoneName:ti};class Oi{get type(){throw new Xs}get name(){throw new Xs}get ianaName(){return this.name}get isUniversal(){throw new Xs}offsetName(e,t){throw new Xs}formatOffset(e,t){throw new Xs}offset(e){throw new Xs}equals(e){throw new Xs}get isValid(){throw new Xs}}let Ni=null;class Mi extends Oi{static get instance(){return null===Ni&&(Ni=new Mi),Ni}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Pa(e,t,n)}formatOffset(e,t){return Ba(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}const Di=new Map;const Ei={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};const Ii=new Map;class xi extends Oi{static create(e){let t=Ii.get(e);return void 0===t&&Ii.set(e,t=new xi(e)),t}static resetCache(){Ii.clear(),Di.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}constructor(e){super(),this.zoneName=e,this.valid=xi.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Pa(e,t,n,this.name)}formatOffset(e,t){return Ba(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const n=function(e){let t=Di.get(e);return void 0===t&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Di.set(e,t)),t}(this.name);let[r,s,i,a,o,u,l]=n.formatToParts?function(e,t){const n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){const{type:t,value:s}=n[e],i=Ei[t];"era"===t?r[i]=s:Na(i)||(r[i]=parseInt(s,10))}return r}(n,t):function(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,s,i,a,o,u,l,c]=r;return[a,s,i,o,u,l,c]}(n,t);"BC"===a&&(r=1-Math.abs(r));let c=+t;const d=c%1e3;return c-=d>=0?d:1e3+d,(_a({year:r,month:s,day:i,hour:24===o?0:o,minute:u,second:l,millisecond:0})-c)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let $i={};const Vi=new Map;function Ci(e,t={}){const n=JSON.stringify([e,t]);let r=Vi.get(n);return void 0===r&&(r=new Intl.DateTimeFormat(e,t),Vi.set(n,r)),r}const Li=new Map;const Fi=new Map;let ji=null;const Zi=new Map;function zi(e){let t=Zi.get(e);return void 0===t&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),Zi.set(e,t)),t}const Ai=new Map;function Wi(e,t,n,r){const s=e.listingMode();return"error"===s?null:"en"===s?n(t):r(t)}class qi{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:s,...i}=n;if(!t||Object.keys(i).length>0){const t={useGrouping:!1,...n};n.padTo>0&&(t.minimumIntegerDigits=n.padTo),this.inf=function(e,t={}){const n=JSON.stringify([e,t]);let r=Li.get(n);return void 0===r&&(r=new Intl.NumberFormat(e,t),Li.set(n,r)),r}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return La(this.floor?Math.floor(e):za(e,3),this.padTo)}}class _i{constructor(e,t,n){let r;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,n=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&xi.create(n).valid?(r=n,this.dt=e):(r="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=Ci(t,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Ui{constructor(e,t,n){this.opts={style:"long",...n},!t&&Ea()&&(this.rtf=function(e,t={}){const{base:n,...r}=t,s=JSON.stringify([e,r]);let i=Fi.get(s);return void 0===i&&(i=new Intl.RelativeTimeFormat(e,t),Fi.set(s,i)),i}(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&i){const n="days"===e;switch(t){case 1:return n?"tomorrow":`next ${s[e][0]}`;case-1:return n?"yesterday":`last ${s[e][0]}`;case 0:return n?"today":`this ${s[e][0]}`}}const a=Object.is(t,-0)||t<0,o=Math.abs(t),u=1===o,l=s[e],c=r?u?l[1]:l[2]||l[1]:u?s[e][0]:e;return a?`${o} ${c} ago`:`in ${o} ${c}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Ri={firstDay:1,minimalDays:4,weekend:[6,7]};class Hi{static fromOpts(e){return Hi.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,r,s=!1){const i=e||la.defaultLocale,a=i||(s?"en-US":ji||(ji=(new Intl.DateTimeFormat).resolvedOptions().locale,ji)),o=t||la.defaultNumberingSystem,u=n||la.defaultOutputCalendar,l=Va(r)||la.defaultWeekSettings;return new Hi(a,o,u,l,i)}static resetCache(){ji=null,Vi.clear(),Li.clear(),Fi.clear(),Zi.clear(),Ai.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:n,weekSettings:r}={}){return Hi.create(e,t,n,r)}constructor(e,t,n,r,s){const[i,a,o]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(-1===n)return[e];{let t,r;try{t=Ci(e).resolvedOptions(),r=e}catch(s){const i=e.substring(0,n);t=Ci(i).resolvedOptions(),r=i}const{numberingSystem:s,calendar:i}=t;return[r,s,i]}}(e);this.locale=i,this.numberingSystem=t||a||null,this.outputCalendar=n||o||null,this.weekSettings=r,this.intl=function(e,t,n){return n||t?(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===zi(e.locale).numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?Hi.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Va(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Wi(this,e,to,()=>{const n=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=function(e){const t=[];for(let n=1;n<=12;n++){const r=il.utc(2009,n,1);t.push(e(r))}return t}(e=>this.extract(e,n,"month"))),this.monthsCache[r][e]})}weekdays(e,t=!1){return Wi(this,e,io,()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=function(e){const t=[];for(let n=1;n<=7;n++){const r=il.utc(2016,11,13+n);t.push(e(r))}return t}(e=>this.extract(e,n,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return Wi(this,void 0,()=>ao,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[il.utc(2016,11,13,9),il.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Wi(this,e,co,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[il.utc(-40,1,1),il.utc(2017,1,1)].map(e=>this.extract(e,t,"era"))),this.eraCache[e]})}extract(e,t,n){const r=this.dtFormatter(e,t).formatToParts().find(e=>e.type.toLowerCase()===n);return r?r.value:null}numberFormatter(e={}){return new qi(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new _i(e,this.intl,t)}relFormatter(e={}){return new Ui(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const n=JSON.stringify([e,t]);let r=$i[n];return r||(r=new Intl.ListFormat(e,t),$i[n]=r),r}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||zi(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ia()?function(e){let t=Ai.get(e);if(!t){const n=new Intl.Locale(e);t="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,"minimalDays"in t||(t={...Ri,...t}),Ai.set(e,t)}return t}(this.locale):Ri}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Pi=null;class Yi extends Oi{static get utcInstance(){return null===Pi&&(Pi=new Yi(0)),Pi}static instance(e){return 0===e?Yi.utcInstance:new Yi(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Yi(Ya(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Ba(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Ba(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Ba(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class Ji extends Oi{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Gi(e,t){if(Na(e)||null===e)return t;if(e instanceof Oi)return e;if("string"==typeof e){const n=e.toLowerCase();return"default"===n?t:"local"===n||"system"===n?Mi.instance:"utc"===n||"gmt"===n?Yi.utcInstance:Yi.parseSpecifier(n)||xi.create(e)}return Ma(e)?Yi.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new Ji(e)}const Bi={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Qi={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Xi=Bi.hanidec.replace(/[\[|\]]/g,"").split("");const Ki=new Map;function ea({numberingSystem:e},t=""){const n=e||"latn";let r=Ki.get(n);void 0===r&&(r=new Map,Ki.set(n,r));let s=r.get(t);return void 0===s&&(s=new RegExp(`${Bi[n]}${t}`),r.set(t,s)),s}let ta,na=()=>Date.now(),ra="system",sa=null,ia=null,aa=null,oa=60,ua=null;class la{static get now(){return na}static set now(e){na=e}static set defaultZone(e){ra=e}static get defaultZone(){return Gi(ra,Mi.instance)}static get defaultLocale(){return sa}static set defaultLocale(e){sa=e}static get defaultNumberingSystem(){return ia}static set defaultNumberingSystem(e){ia=e}static get defaultOutputCalendar(){return aa}static set defaultOutputCalendar(e){aa=e}static get defaultWeekSettings(){return ua}static set defaultWeekSettings(e){ua=Va(e)}static get twoDigitCutoffYear(){return oa}static set twoDigitCutoffYear(e){oa=e%100}static get throwOnInvalid(){return ta}static set throwOnInvalid(e){ta=e}static resetCaches(){Hi.resetCache(),xi.resetCache(),il.resetCache(),Ki.clear()}}class ca{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const da=[0,31,59,90,120,151,181,212,243,273,304,334],ha=[0,31,60,91,121,152,182,213,244,274,305,335];function ma(e,t){return new ca("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function fa(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return 0===s?7:s}function ya(e,t,n){return n+(Aa(e)?ha:da)[t-1]}function ga(e,t){const n=Aa(e)?ha:da,r=n.findIndex(e=>e<t);return{month:r+1,day:t-n[r]}}function pa(e,t){return(e-t+7)%7+1}function wa(e,t=4,n=1){const{year:r,month:s,day:i}=e,a=ya(r,s,i),o=pa(fa(r,s,i),n);let u,l=Math.floor((a-o+14-t)/7);return l<1?(u=r-1,l=Ra(u,t,n)):l>Ra(r,t,n)?(u=r+1,l=1):u=r,{weekYear:u,weekNumber:l,weekday:o,...Qa(e)}}function ba(e,t=4,n=1){const{weekYear:r,weekNumber:s,weekday:i}=e,a=pa(fa(r,1,t),n),o=Wa(r);let u,l=7*s+i-a-7+t;l<1?(u=r-1,l+=Wa(u)):l>o?(u=r+1,l-=Wa(r)):u=r;const{month:c,day:d}=ga(u,l);return{year:u,month:c,day:d,...Qa(e)}}function va(e){const{year:t,month:n,day:r}=e;return{year:t,ordinal:ya(t,n,r),...Qa(e)}}function ka(e){const{year:t,ordinal:n}=e,{month:r,day:s}=ga(t,n);return{year:t,month:r,day:s,...Qa(e)}}function Sa(e,t){if(!Na(e.localWeekday)||!Na(e.localWeekNumber)||!Na(e.localWeekYear)){if(!Na(e.weekday)||!Na(e.weekNumber)||!Na(e.weekYear))throw new Gs("Cannot mix locale-based week fields with ISO-based week fields");return Na(e.localWeekday)||(e.weekday=e.localWeekday),Na(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Na(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Ta(e){const t=Da(e.year),n=Ca(e.month,1,12),r=Ca(e.day,1,qa(e.year,e.month));return t?n?!r&&ma("day",e.day):ma("month",e.month):ma("year",e.year)}function Oa(e){const{hour:t,minute:n,second:r,millisecond:s}=e,i=Ca(t,0,23)||24===t&&0===n&&0===r&&0===s,a=Ca(n,0,59),o=Ca(r,0,59),u=Ca(s,0,999);return i?a?o?!u&&ma("millisecond",s):ma("second",r):ma("minute",n):ma("hour",t)}function Na(e){return void 0===e}function Ma(e){return"number"==typeof e}function Da(e){return"number"==typeof e&&e%1==0}function Ea(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Ia(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function xa(e,t,n){if(0!==e.length)return e.reduce((e,r)=>{const s=[t(r),r];return e&&n(e[0],s[0])===e[0]?e:s},null)[1]}function $a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Va(e){if(null==e)return null;if("object"!=typeof e)throw new Qs("Week settings must be an object");if(!Ca(e.firstDay,1,7)||!Ca(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(e=>!Ca(e,1,7)))throw new Qs("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Ca(e,t,n){return Da(e)&&e>=t&&e<=n}function La(e,t=2){let n;return n=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),n}function Fa(e){return Na(e)||null===e||""===e?void 0:parseInt(e,10)}function ja(e){return Na(e)||null===e||""===e?void 0:parseFloat(e)}function Za(e){if(!Na(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function za(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function Aa(e){return e%4==0&&(e%100!=0||e%400==0)}function Wa(e){return Aa(e)?366:365}function qa(e,t){const n=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===n?Aa(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function _a(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Ua(e,t,n){return-pa(fa(e,1,t),n)+t-1}function Ra(e,t=4,n=1){const r=Ua(e,t,n),s=Ua(e+1,t,n);return(Wa(e)-r+s)/7}function Ha(e){return e>99?e:e>la.twoDigitCutoffYear?1900+e:2e3+e}function Pa(e,t,n,r=null){const s=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const a={timeZoneName:t,...i},o=new Intl.DateTimeFormat(n,a).formatToParts(s).find(e=>"timezonename"===e.type.toLowerCase());return o?o.value:null}function Ya(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function Ja(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new Qs(`Invalid unit value ${e}`);return t}function Ga(e,t){const n={};for(const r in e)if($a(e,r)){const s=e[r];if(null==s)continue;n[t(r)]=Ja(s)}return n}function Ba(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${La(n,2)}:${La(r,2)}`;case"narrow":return`${s}${n}${r>0?`:${r}`:""}`;case"techie":return`${s}${La(n,2)}${La(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Qa(e){return function(e,t){return t.reduce((t,n)=>(t[n]=e[n],t),{})}(e,["hour","minute","second","millisecond"])}const Xa=["January","February","March","April","May","June","July","August","September","October","November","December"],Ka=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],eo=["J","F","M","A","M","J","J","A","S","O","N","D"];function to(e){switch(e){case"narrow":return[...eo];case"short":return[...Ka];case"long":return[...Xa];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const no=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ro=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],so=["M","T","W","T","F","S","S"];function io(e){switch(e){case"narrow":return[...so];case"short":return[...ro];case"long":return[...no];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ao=["AM","PM"],oo=["Before Christ","Anno Domini"],uo=["BC","AD"],lo=["B","A"];function co(e){switch(e){case"narrow":return[...lo];case"short":return[...uo];case"long":return[...oo];default:return null}}function ho(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const mo={D:ni,DD:ri,DDD:ii,DDDD:ai,t:oi,tt:ui,ttt:li,tttt:ci,T:di,TT:hi,TTT:mi,TTTT:fi,f:yi,ff:pi,fff:vi,ffff:Si,F:gi,FF:wi,FFF:ki,FFFF:Ti};class fo{static create(e,t={}){return new fo(e,t)}static parseFormat(e){let t=null,n="",r=!1;const s=[];for(let i=0;i<e.length;i++){const a=e.charAt(i);"'"===a?(n.length>0&&s.push({literal:r||/^\s+$/.test(n),val:n}),t=null,n="",r=!r):r||a===t?n+=a:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=a,t=a)}return n.length>0&&s.push({literal:r||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(e){return mo[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return La(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,s=(t,n)=>this.loc.extract(e,t,n),i=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",a=()=>n?function(e){return ao[e.hour<12?0:1]}(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),o=(t,r)=>n?function(e,t){return to(t)[e.month-1]}(e,t):s(r?{month:t}:{month:t,day:"numeric"},"month"),u=(t,r)=>n?function(e,t){return io(t)[e.weekday-1]}(e,t):s(r?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),l=t=>{const n=fo.macroTokenToFormatOpts(t);return n?this.formatWithSystemDefault(e,n):t},c=t=>n?function(e,t){return co(t)[e.year<0?0:1]}(e,t):s({era:t},"era");return ho(fo.parseFormat(t),t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return o("short",!0);case"LLLL":return o("long",!0);case"LLLLL":return o("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return o("short",!1);case"MMMM":return o("long",!1);case"MMMMM":return o("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return l(t)}})}formatDurationFromString(e,t){const n=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=fo.parseFormat(t),s=r.reduce((e,{literal:t,val:n})=>t?e:e.concat(n),[]);return ho(r,(e=>t=>{const r=n(t);return r?this.num(e.get(r),t.length):t})(e.shiftTo(...s.map(n).filter(e=>e))))}}const yo=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function go(...e){const t=e.reduce((e,t)=>e+t.source,"");return RegExp(`^${t}$`)}function po(...e){return t=>e.reduce(([e,n,r],s)=>{const[i,a,o]=s(t,r);return[{...e,...i},a||n,o]},[{},null,1]).slice(0,2)}function wo(e,...t){if(null==e)return[null,null];for(const[n,r]of t){const t=n.exec(e);if(t)return r(t)}return[null,null]}function bo(...e){return(t,n)=>{const r={};let s;for(s=0;s<e.length;s++)r[e[s]]=Fa(t[n+s]);return[r,null,n+s]}}const vo=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ko=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,So=RegExp(`${ko.source}${`(?:${vo.source}?(?:\\[(${yo.source})\\])?)?`}`),To=RegExp(`(?:T${So.source})?`),Oo=bo("weekYear","weekNumber","weekDay"),No=bo("year","ordinal"),Mo=RegExp(`${ko.source} ?(?:${vo.source}|(${yo.source}))?`),Do=RegExp(`(?: ${Mo.source})?`);function Eo(e,t,n){const r=e[t];return Na(r)?n:Fa(r)}function Io(e,t){return[{hours:Eo(e,t,0),minutes:Eo(e,t+1,0),seconds:Eo(e,t+2,0),milliseconds:Za(e[t+3])},null,t+4]}function xo(e,t){const n=!e[t]&&!e[t+1],r=Ya(e[t+1],e[t+2]);return[{},n?null:Yi.instance(r),t+3]}function $o(e,t){return[{},e[t]?xi.create(e[t]):null,t+1]}const Vo=RegExp(`^T?${ko.source}$`),Co=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Lo(e){const[t,n,r,s,i,a,o,u,l]=e,c="-"===t[0],d=u&&"-"===u[0],h=(e,t=!1)=>void 0!==e&&(t||e&&c)?-e:e;return[{years:h(ja(n)),months:h(ja(r)),weeks:h(ja(s)),days:h(ja(i)),hours:h(ja(a)),minutes:h(ja(o)),seconds:h(ja(u),"-0"===u),milliseconds:h(Za(l),d)}]}const Fo={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function jo(e,t,n,r,s,i,a){const o={year:2===t.length?Ha(Fa(t)):Fa(t),month:Ka.indexOf(n)+1,day:Fa(r),hour:Fa(s),minute:Fa(i)};return a&&(o.second=Fa(a)),e&&(o.weekday=e.length>3?no.indexOf(e)+1:ro.indexOf(e)+1),o}const Zo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function zo(e){const[,t,n,r,s,i,a,o,u,l,c,d]=e,h=jo(t,s,r,n,i,a,o);let m;return m=u?Fo[u]:l?0:Ya(c,d),[h,new Yi(m)]}const Ao=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Wo=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,qo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function _o(e){const[,t,n,r,s,i,a,o]=e;return[jo(t,s,r,n,i,a,o),Yi.utcInstance]}function Uo(e){const[,t,n,r,s,i,a,o]=e;return[jo(t,o,n,r,s,i,a),Yi.utcInstance]}const Ro=go(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,To),Ho=go(/(\d{4})-?W(\d\d)(?:-?(\d))?/,To),Po=go(/(\d{4})-?(\d{3})/,To),Yo=go(So),Jo=po(function(e,t){return[{year:Eo(e,t),month:Eo(e,t+1,1),day:Eo(e,t+2,1)},null,t+3]},Io,xo,$o),Go=po(Oo,Io,xo,$o),Bo=po(No,Io,xo,$o),Qo=po(Io,xo,$o);const Xo=po(Io);const Ko=go(/(\d{4})-(\d\d)-(\d\d)/,Do),eu=go(Mo),tu=po(Io,xo,$o);const nu="Invalid Duration",ru={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},su={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...ru},iu=365.2425,au=30.436875,ou={years:{quarters:4,months:12,weeks:52.1775,days:iu,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:au,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...ru},uu=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],lu=uu.slice(0).reverse();function cu(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new mu(r)}function du(e,t){let n=t.milliseconds??0;for(const r of lu.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function hu(e,t){const n=du(e,t)<0?-1:1;uu.reduceRight((r,s)=>{if(Na(t[s]))return r;if(r){const i=t[r]*n,a=e[s][r],o=Math.floor(i/a);t[s]+=o*n,t[r]-=o*a*n}return s},null),uu.reduce((n,r)=>{if(Na(t[r]))return n;if(n){const s=t[n]%1;t[n]-=s,t[r]+=s*e[n][r]}return r},null)}class mu{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let n=t?ou:su;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Hi.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return mu.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new Qs("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new mu({values:Ga(e,mu.normalizeUnit),loc:Hi.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Ma(e))return mu.fromMillis(e);if(mu.isDuration(e))return e;if("object"==typeof e)return mu.fromObject(e);throw new Qs(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=function(e){return wo(e,[Co,Lo])}(e);return n?mu.fromObject(n,t):mu.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=function(e){return wo(e,[Vo,Xo])}(e);return n?mu.fromObject(n,t):mu.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Qs("need to specify a reason the Duration is invalid");const n=e instanceof ca?e:new ca(e,t);if(la.throwOnInvalid)throw new Js(n);return new mu({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new Bs(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?fo.create(this.loc,n).formatDurationFromString(this,e):nu}toHuman(e={}){if(!this.isValid)return nu;const t=uu.map(t=>{const n=this.values[t];return Na(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(n)}).filter(e=>e);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=za(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1};return il.fromMillis(t,{zone:"UTC"}).toISOTime(e)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?du(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=mu.fromDurationLike(e),n={};for(const e of uu)($a(t.values,e)||$a(this.values,e))&&(n[e]=t.get(e)+this.get(e));return cu(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=mu.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=Ja(e(this.values[n],n));return cu(this,{values:t},!0)}get(e){return this[mu.normalizeUnit(e)]}set(e){if(!this.isValid)return this;return cu(this,{values:{...this.values,...Ga(e,mu.normalizeUnit)}})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:r}={}){return cu(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:n})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return hu(this.matrix,e),cu(this,{values:e},!0)}rescale(){if(!this.isValid)return this;return cu(this,{values:function(e){const t={};for(const[n,r]of Object.entries(e))0!==r&&(t[n]=r);return t}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map(e=>mu.normalizeUnit(e));const t={},n={},r=this.toObject();let s;for(const i of uu)if(e.indexOf(i)>=0){s=i;let e=0;for(const t in n)e+=this.matrix[t][i]*n[t],n[t]=0;Ma(r[i])&&(e+=r[i]);const a=Math.trunc(e);t[i]=a,n[i]=(1e3*e-1e3*a)/1e3}else Ma(r[i])&&(n[i]=r[i]);for(const e in n)0!==n[e]&&(t[s]+=e===s?n[e]:n[e]/this.matrix[s][e]);return hu(this.matrix,t),cu(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return cu(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;function t(e,t){return void 0===e||0===e?void 0===t||0===t:e===t}for(const n of uu)if(!t(this.values[n],e.values[n]))return!1;return!0}}const fu="Invalid Interval";class yu{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Qs("need to specify a reason the Interval is invalid");const n=e instanceof ca?e:new ca(e,t);if(la.throwOnInvalid)throw new Ys(n);return new yu({invalid:n})}static fromDateTimes(e,t){const n=al(e),r=al(t),s=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?yu.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:yu.invalid("missing or invalid end"):yu.invalid("missing or invalid start")}(n,r);return null==s?new yu({start:n,end:r}):s}static after(e,t){const n=mu.fromDurationLike(t),r=al(e);return yu.fromDateTimes(r,r.plus(n))}static before(e,t){const n=mu.fromDurationLike(t),r=al(e);return yu.fromDateTimes(r.minus(n),r)}static fromISO(e,t){const[n,r]=(e||"").split("/",2);if(n&&r){let e,s,i,a;try{e=il.fromISO(n,t),s=e.isValid}catch(r){s=!1}try{i=il.fromISO(r,t),a=i.isValid}catch(r){a=!1}if(s&&a)return yu.fromDateTimes(e,i);if(s){const n=mu.fromISO(r,t);if(n.isValid)return yu.after(e,n)}else if(a){const e=mu.fromISO(n,t);if(e.isValid)return yu.before(i,e)}}return yu.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let r;return r=t?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,r=r.startOf(e,t),Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&(this.s<=e&&this.e>e)}set({start:e,end:t}={}){return this.isValid?yu.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(al).filter(e=>this.contains(e)).sort((e,t)=>e.toMillis()-t.toMillis()),n=[];let{s:r}=this,s=0;for(;r<this.e;){const e=t[s]||this.e,i=+e>+this.e?this.e:e;n.push(yu.fromDateTimes(r,i)),r=i,s+=1}return n}splitBy(e){const t=mu.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let n,{s:r}=this,s=1;const i=[];for(;r<this.e;){const e=this.start.plus(t.mapUnits(e=>e*s));n=+e>+this.e?this.e:e,i.push(yu.fromDateTimes(r,n)),r=n,s+=1}return i}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e===+e.s}abutsEnd(e){return!!this.isValid&&+e.e===+this.s}engulfs(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:yu.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return yu.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort((e,t)=>e.s-t.s).reduce(([e,t],n)=>t?t.overlaps(n)||t.abutsStart(n)?[e,t.union(n)]:[e.concat([t]),n]:[e,n],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const r=[],s=e.map(e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}]),i=Array.prototype.concat(...s).sort((e,t)=>e.time-t.time);for(const e of i)n+="s"===e.type?1:-1,1===n?t=e.time:(t&&+t!==+e.time&&r.push(yu.fromDateTimes(t,e.time)),t=null);return yu.merge(r)}difference(...e){return yu.xor([this].concat(e)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:fu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=ni,t={}){return this.isValid?fo.create(this.s.loc.clone(t),e).formatInterval(this):fu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:fu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:fu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:fu}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:fu}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):mu.invalid(this.invalidReason)}mapEndpoints(e){return yu.fromDateTimes(e(this.s),e(this.e))}}class gu{static hasDST(e=la.defaultZone){const t=il.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return xi.isValidZone(e)}static normalizeZone(e){return Gi(e,la.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||Hi.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||Hi.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||Hi.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Hi.create(t,n,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Hi.create(t,n,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Hi.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Hi.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Hi.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Hi.create(t,null,"gregory").eras(e)}static features(){return{relative:Ea(),localeWeek:Ia()}}}function pu(e,t){const n=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(mu.fromMillis(r).as("days"))}function wu(e,t,n,r){let[s,i,a,o]=function(e,t,n){const r=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const n=pu(e,t);return(n-n%7)/7}],["days",pu]],s={},i=e;let a,o;for(const[u,l]of r)n.indexOf(u)>=0&&(a=u,s[u]=l(e,t),o=i.plus(s),o>t?(s[u]--,(e=i.plus(s))>t&&(o=e,s[u]--,e=i.plus(s))):e=o);return[e,s,o,a]}(e,t,n);const u=t-s,l=n.filter(e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0);0===l.length&&(a<t&&(a=s.plus({[o]:1})),a!==s&&(i[o]=(i[o]||0)+u/(a-s)));const c=mu.fromObject(i,r);return l.length>0?mu.fromMillis(u,r).shiftTo(...l).plus(c):c}function bu(e,t=e=>e){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(-1!==e[n].search(Bi.hanidec))t+=Xi.indexOf(e[n]);else for(const e in Qi){const[n,s]=Qi[e];r>=n&&r<=s&&(t+=r-n)}}return parseInt(t,10)}return t}(e))}}const vu=`[ ${String.fromCharCode(160)}]`,ku=new RegExp(vu,"g");function Su(e){return e.replace(/\./g,"\\.?").replace(ku,vu)}function Tu(e){return e.replace(/\./g,"").replace(ku," ").toLowerCase()}function Ou(e,t){return null===e?null:{regex:RegExp(e.map(Su).join("|")),deser:([n])=>e.findIndex(e=>Tu(n)===Tu(e))+t}}function Nu(e,t){return{regex:e,deser:([,e,t])=>Ya(e,t),groups:t}}function Mu(e){return{regex:e,deser:([e])=>e}}const Du={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Eu=null;function Iu(e,t){return Array.prototype.concat(...e.map(e=>function(e,t){if(e.literal)return e;const n=Vu(fo.macroTokenToFormatOpts(e.val),t);return null==n||n.includes(void 0)?e:n}(e,t)))}class xu{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=Iu(fo.parseFormat(t),e),this.units=this.tokens.map(t=>function(e,t){const n=ea(t),r=ea(t,"{2}"),s=ea(t,"{3}"),i=ea(t,"{4}"),a=ea(t,"{6}"),o=ea(t,"{1,2}"),u=ea(t,"{1,3}"),l=ea(t,"{1,6}"),c=ea(t,"{1,9}"),d=ea(t,"{2,4}"),h=ea(t,"{4,6}"),m=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},f=(f=>{if(e.literal)return m(f);switch(f.val){case"G":return Ou(t.eras("short"),0);case"GG":return Ou(t.eras("long"),0);case"y":return bu(l);case"yy":case"kk":return bu(d,Ha);case"yyyy":case"kkkk":return bu(i);case"yyyyy":return bu(h);case"yyyyyy":return bu(a);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return bu(o);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return bu(r);case"MMM":return Ou(t.months("short",!0),1);case"MMMM":return Ou(t.months("long",!0),1);case"LLL":return Ou(t.months("short",!1),1);case"LLLL":return Ou(t.months("long",!1),1);case"o":case"S":return bu(u);case"ooo":case"SSS":return bu(s);case"u":return Mu(c);case"uu":return Mu(o);case"uuu":case"E":case"c":return bu(n);case"a":return Ou(t.meridiems(),0);case"EEE":return Ou(t.weekdays("short",!1),1);case"EEEE":return Ou(t.weekdays("long",!1),1);case"ccc":return Ou(t.weekdays("short",!0),1);case"cccc":return Ou(t.weekdays("long",!0),1);case"Z":case"ZZ":return Nu(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return Nu(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return Mu(/[a-z_+-/]{1,256}?/i);case" ":return Mu(/[^\S\n\r]/);default:return m(f)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return f.token=e,f}(t,e)),this.disqualifyingUnit=this.units.find(e=>e.invalidReason),!this.disqualifyingUnit){const[e,t]=[`^${(n=this.units).map(e=>e.regex).reduce((e,t)=>`${e}(${t.source})`,"")}$`,n];this.regex=RegExp(e,"i"),this.handlers=t}var n}explainFromTokens(e){if(this.isValid){const[t,n]=function(e,t,n){const r=e.match(t);if(r){const e={};let t=1;for(const s in n)if($a(n,s)){const i=n[s],a=i.groups?i.groups+1:1;!i.literal&&i.token&&(e[i.token.val[0]]=i.deser(r.slice(t,t+a))),t+=a}return[r,e]}return[r,{}]}(e,this.regex,this.handlers),[r,s,i]=n?function(e){let t,n=null;return Na(e.z)||(n=xi.create(e.z)),Na(e.Z)||(n||(n=new Yi(e.Z)),t=e.Z),Na(e.q)||(e.M=3*(e.q-1)+1),Na(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),Na(e.u)||(e.S=Za(e.u)),[Object.keys(e).reduce((t,n)=>{const r=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return r&&(t[r]=e[n]),t},{}),n,t]}(n):[null,null,void 0];if($a(n,"a")&&$a(n,"H"))throw new Gs("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:n,result:r,zone:s,specificOffset:i}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function $u(e,t,n){return new xu(e,n).explainFromTokens(t)}function Vu(e,t){if(!e)return null;const n=fo.create(t,e).dtFormatter((Eu||(Eu=il.fromMillis(1555555555555)),Eu)),r=n.formatToParts(),s=n.resolvedOptions();return r.map(t=>function(e,t,n){const{type:r,value:s}=e;if("literal"===r){const e=/^\s+$/.test(s);return{literal:!e,val:e?" ":s}}const i=t[r];let a=r;"hour"===r&&(a=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":n.hour12?"hour12":"hour24");let o=Du[a];if("object"==typeof o&&(o=o[i]),o)return{literal:!1,val:o}}(t,e,s))}const Cu="Invalid DateTime",Lu=864e13;function Fu(e){return new ca("unsupported zone",`the zone "${e.name}" is not supported`)}function ju(e){return null===e.weekData&&(e.weekData=wa(e.c)),e.weekData}function Zu(e){return null===e.localWeekData&&(e.localWeekData=wa(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function zu(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new il({...n,...t,old:n})}function Au(e,t,n){let r=e-60*t*1e3;const s=n.offset(r);if(t===s)return[r,t];r-=60*(s-t)*1e3;const i=n.offset(r);return s===i?[r,s]:[e-60*Math.min(s,i)*1e3,Math.max(s,i)]}function Wu(e,t){const n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function qu(e,t,n){return Au(_a(e),t,n)}function _u(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),i={...e.c,year:r,month:s,day:Math.min(e.c.day,qa(r,s))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},a=mu.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=_a(i);let[u,l]=Au(o,n,e.zone);return 0!==a&&(u+=a,l=e.zone.offset(u)),{ts:u,o:l}}function Uu(e,t,n,r,s,i){const{setZone:a,zone:o}=n;if(e&&0!==Object.keys(e).length||t){const r=t||o,s=il.fromObject(e,{...n,zone:r,specificOffset:i});return a?s:s.setZone(o)}return il.invalid(new ca("unparsable",`the input "${s}" can't be parsed as ${r}`))}function Ru(e,t,n=!0){return e.isValid?fo.create(Hi.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Hu(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=La(e.c.year,n?6:4),t?(r+="-",r+=La(e.c.month),r+="-",r+=La(e.c.day)):(r+=La(e.c.month),r+=La(e.c.day)),r}function Pu(e,t,n,r,s,i){let a=La(e.c.hour);return t?(a+=":",a+=La(e.c.minute),0===e.c.millisecond&&0===e.c.second&&n||(a+=":")):a+=La(e.c.minute),0===e.c.millisecond&&0===e.c.second&&n||(a+=La(e.c.second),0===e.c.millisecond&&r||(a+=".",a+=La(e.c.millisecond,3))),s&&(e.isOffsetFixed&&0===e.offset&&!i?a+="Z":e.o<0?(a+="-",a+=La(Math.trunc(-e.o/60)),a+=":",a+=La(Math.trunc(-e.o%60))):(a+="+",a+=La(Math.trunc(e.o/60)),a+=":",a+=La(Math.trunc(e.o%60)))),i&&(a+="["+e.zone.ianaName+"]"),a}const Yu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ju={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Gu={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Bu=["year","month","day","hour","minute","second","millisecond"],Qu=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Xu=["year","ordinal","hour","minute","second","millisecond"];function Ku(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Bs(e);return t}(e)}}function el(e,t){const n=Gi(t.zone,la.defaultZone);if(!n.isValid)return il.invalid(Fu(n));const r=Hi.fromObject(t);let s,i;if(Na(e.year))s=la.now();else{for(const t of Bu)Na(e[t])&&(e[t]=Yu[t]);const t=Ta(e)||Oa(e);if(t)return il.invalid(t);const r=function(e){if(void 0===rl&&(rl=la.now()),"iana"!==e.type)return e.offset(rl);const t=e.name;let n=sl.get(t);return void 0===n&&(n=e.offset(rl),sl.set(t,n)),n}(n);[s,i]=qu(e,r,n)}return new il({ts:s,zone:n,loc:r,o:i})}function tl(e,t,n){const r=!!Na(n.round)||n.round,s=(e,s)=>{e=za(e,r||n.calendary?0:2,!0);return t.loc.clone(n).relFormatter(n).format(e,s)},i=r=>n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(n.unit)return s(i(n.unit),n.unit);for(const e of n.units){const t=i(e);if(Math.abs(t)>=1)return s(t,e)}return s(e>t?-0:0,n.units[n.units.length-1])}function nl(e){let t,n={};return e.length>0&&"object"==typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}let rl;const sl=new Map;class il{constructor(e){const t=e.zone||la.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new ca("invalid input"):null)||(t.isValid?null:Fu(t));this.ts=Na(e.ts)?la.now():e.ts;let r=null,s=null;if(!n){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,s]=[e.old.c,e.old.o];else{const i=Ma(e.o)&&!e.old?e.o:t.offset(this.ts);r=Wu(this.ts,i),n=Number.isNaN(r.year)?new ca("invalid input"):null,r=n?null:r,s=n?null:i}}this._zone=t,this.loc=e.loc||Hi.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new il({})}static local(){const[e,t]=nl(arguments),[n,r,s,i,a,o,u]=t;return el({year:n,month:r,day:s,hour:i,minute:a,second:o,millisecond:u},e)}static utc(){const[e,t]=nl(arguments),[n,r,s,i,a,o,u]=t;return e.zone=Yi.utcInstance,el({year:n,month:r,day:s,hour:i,minute:a,second:o,millisecond:u},e)}static fromJSDate(e,t={}){const n=(r=e,"[object Date]"===Object.prototype.toString.call(r)?e.valueOf():NaN);var r;if(Number.isNaN(n))return il.invalid("invalid input");const s=Gi(t.zone,la.defaultZone);return s.isValid?new il({ts:n,zone:s,loc:Hi.fromObject(t)}):il.invalid(Fu(s))}static fromMillis(e,t={}){if(Ma(e))return e<-Lu||e>Lu?il.invalid("Timestamp out of range"):new il({ts:e,zone:Gi(t.zone,la.defaultZone),loc:Hi.fromObject(t)});throw new Qs(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Ma(e))return new il({ts:1e3*e,zone:Gi(t.zone,la.defaultZone),loc:Hi.fromObject(t)});throw new Qs("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=Gi(t.zone,la.defaultZone);if(!n.isValid)return il.invalid(Fu(n));const r=Hi.fromObject(t),s=Ga(e,Ku),{minDaysInFirstWeek:i,startOfWeek:a}=Sa(s,r),o=la.now(),u=Na(t.specificOffset)?n.offset(o):t.specificOffset,l=!Na(s.ordinal),c=!Na(s.year),d=!Na(s.month)||!Na(s.day),h=c||d,m=s.weekYear||s.weekNumber;if((h||l)&&m)throw new Gs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new Gs("Can't mix ordinal dates with month/day");const f=m||s.weekday&&!h;let y,g,p=Wu(o,u);f?(y=Qu,g=Ju,p=wa(p,i,a)):l?(y=Xu,g=Gu,p=va(p)):(y=Bu,g=Yu);let w=!1;for(const e of y){Na(s[e])?s[e]=w?g[e]:p[e]:w=!0}const b=f?function(e,t=4,n=1){const r=Da(e.weekYear),s=Ca(e.weekNumber,1,Ra(e.weekYear,t,n)),i=Ca(e.weekday,1,7);return r?s?!i&&ma("weekday",e.weekday):ma("week",e.weekNumber):ma("weekYear",e.weekYear)}(s,i,a):l?function(e){const t=Da(e.year),n=Ca(e.ordinal,1,Wa(e.year));return t?!n&&ma("ordinal",e.ordinal):ma("year",e.year)}(s):Ta(s),v=b||Oa(s);if(v)return il.invalid(v);const k=f?ba(s,i,a):l?ka(s):s,[S,T]=qu(k,u,n),O=new il({ts:S,zone:n,o:T,loc:r});return s.weekday&&h&&e.weekday!==O.weekday?il.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${O.toISO()}`):O.isValid?O:il.invalid(O.invalid)}static fromISO(e,t={}){const[n,r]=function(e){return wo(e,[Ro,Jo],[Ho,Go],[Po,Bo],[Yo,Qo])}(e);return Uu(n,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,r]=function(e){return wo(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Zo,zo])}(e);return Uu(n,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,r]=function(e){return wo(e,[Ao,_o],[Wo,_o],[qo,Uo])}(e);return Uu(n,r,t,"HTTP",t)}static fromFormat(e,t,n={}){if(Na(e)||Na(t))throw new Qs("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=n,i=Hi.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[a,o,u,l]=function(e,t,n){const{result:r,zone:s,specificOffset:i,invalidReason:a}=$u(e,t,n);return[r,s,i,a]}(i,e,t);return l?il.invalid(l):Uu(a,o,n,`format ${t}`,e,u)}static fromString(e,t,n={}){return il.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,r]=function(e){return wo(e,[Ko,Jo],[eu,tu])}(e);return Uu(n,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Qs("need to specify a reason the DateTime is invalid");const n=e instanceof ca?e:new ca(e,t);if(la.throwOnInvalid)throw new Ps(n);return new il({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=Vu(e,Hi.fromObject(t));return n?n.map(e=>e?e.val:null).join(""):null}static expandFormat(e,t={}){return Iu(fo.parseFormat(e),Hi.fromObject(t)).map(e=>e.val).join("")}static resetCache(){rl=void 0,sl.clear()}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ju(this).weekYear:NaN}get weekNumber(){return this.isValid?ju(this).weekNumber:NaN}get weekday(){return this.isValid?ju(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Zu(this).weekday:NaN}get localWeekNumber(){return this.isValid?Zu(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Zu(this).weekYear:NaN}get ordinal(){return this.isValid?va(this.c).ordinal:NaN}get monthShort(){return this.isValid?gu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?gu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?gu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?gu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=_a(this.c),r=this.zone.offset(n-e),s=this.zone.offset(n+e),i=this.zone.offset(n-r*t),a=this.zone.offset(n-s*t);if(i===a)return[this];const o=n-i*t,u=n-a*t,l=Wu(o,i),c=Wu(u,a);return l.hour===c.hour&&l.minute===c.minute&&l.second===c.second&&l.millisecond===c.millisecond?[zu(this,{ts:o}),zu(this,{ts:u})]:[this]}get isInLeapYear(){return Aa(this.year)}get daysInMonth(){return qa(this.year,this.month)}get daysInYear(){return this.isValid?Wa(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ra(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ra(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:r}=fo.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(Yi.instance(e),t)}toLocal(){return this.setZone(la.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if((e=Gi(e,la.defaultZone)).equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||n){const t=e.offset(this.ts),n=this.toObject();[r]=qu(n,t,e)}return zu(this,{ts:r,zone:e})}return il.invalid(Fu(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){return zu(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Ga(e,Ku),{minDaysInFirstWeek:n,startOfWeek:r}=Sa(t,this.loc),s=!Na(t.weekYear)||!Na(t.weekNumber)||!Na(t.weekday),i=!Na(t.ordinal),a=!Na(t.year),o=!Na(t.month)||!Na(t.day),u=a||o,l=t.weekYear||t.weekNumber;if((u||i)&&l)throw new Gs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new Gs("Can't mix ordinal dates with month/day");let c;s?c=ba({...wa(this.c,n,r),...t},n,r):Na(t.ordinal)?(c={...this.toObject(),...t},Na(t.day)&&(c.day=Math.min(qa(c.year,c.month),c.day))):c=ka({...va(this.c),...t});const[d,h]=qu(c,this.o,this.zone);return zu(this,{ts:d,o:h})}plus(e){if(!this.isValid)return this;return zu(this,_u(this,mu.fromDurationLike(e)))}minus(e){if(!this.isValid)return this;return zu(this,_u(this,mu.fromDurationLike(e).negate()))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const n={},r=mu.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===r)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(n.weekNumber=this.weekNumber-1),n.weekday=e}else n.weekday=1;if("quarters"===r){const e=Math.ceil(this.month/3);n.month=3*(e-1)+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?fo.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Cu}toLocaleString(e=ni,t={}){return this.isValid?fo.create(this.loc.clone(t),e).formatDateTime(this):Cu}toLocaleParts(e={}){return this.isValid?fo.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const i="extended"===e;let a=Hu(this,i);return a+="T",a+=Pu(this,i,t,n,r,s),a}toISODate({format:e="extended"}={}){return this.isValid?Hu(this,"extended"===e):null}toISOWeekDate(){return Ru(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:s=!1,format:i="extended"}={}){if(!this.isValid)return null;return(r?"T":"")+Pu(this,"extended"===i,t,e,n,s)}toRFC2822(){return Ru(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ru(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Hu(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(n&&(r+=" "),t?r+="z":e&&(r+="ZZ")),Ru(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Cu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return mu.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=(o=t,Array.isArray(o)?o:[o]).map(mu.normalizeUnit),i=e.valueOf()>this.valueOf(),a=wu(i?this:e,i?e:this,s,r);var o;return i?a.negate():a}diffNow(e="milliseconds",t={}){return this.diff(il.now(),e,t)}until(e){return this.isValid?yu.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const r=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t,n)<=r&&r<=s.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||il.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),tl(t,this.plus(n),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?tl(e.base||il.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(il.isDateTime))throw new Qs("min requires all arguments be DateTimes");return xa(e,e=>e.valueOf(),Math.min)}static max(...e){if(!e.every(il.isDateTime))throw new Qs("max requires all arguments be DateTimes");return xa(e,e=>e.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:r=null,numberingSystem:s=null}=n;return $u(Hi.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,n={}){return il.fromFormatExplain(e,t,n)}static buildFormatParser(e,t={}){const{locale:n=null,numberingSystem:r=null}=t,s=Hi.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});return new xu(s,e)}static fromFormatParser(e,t,n={}){if(Na(e)||Na(t))throw new Qs("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:s=null}=n,i=Hi.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});if(!i.equals(t.locale))throw new Qs(`fromFormatParser called with a locale of ${i}, but the format parser was created for ${t.locale}`);const{result:a,zone:o,specificOffset:u,invalidReason:l}=t.explainFromTokens(e);return l?il.invalid(l):Uu(a,o,n,`format ${t.format}`,e,u)}static get DATE_SHORT(){return ni}static get DATE_MED(){return ri}static get DATE_MED_WITH_WEEKDAY(){return si}static get DATE_FULL(){return ii}static get DATE_HUGE(){return ai}static get TIME_SIMPLE(){return oi}static get TIME_WITH_SECONDS(){return ui}static get TIME_WITH_SHORT_OFFSET(){return li}static get TIME_WITH_LONG_OFFSET(){return ci}static get TIME_24_SIMPLE(){return di}static get TIME_24_WITH_SECONDS(){return hi}static get TIME_24_WITH_SHORT_OFFSET(){return mi}static get TIME_24_WITH_LONG_OFFSET(){return fi}static get DATETIME_SHORT(){return yi}static get DATETIME_SHORT_WITH_SECONDS(){return gi}static get DATETIME_MED(){return pi}static get DATETIME_MED_WITH_SECONDS(){return wi}static get DATETIME_MED_WITH_WEEKDAY(){return bi}static get DATETIME_FULL(){return vi}static get DATETIME_FULL_WITH_SECONDS(){return ki}static get DATETIME_HUGE(){return Si}static get DATETIME_HUGE_WITH_SECONDS(){return Ti}}function al(e){if(il.isDateTime(e))return e;if(e&&e.valueOf&&Ma(e.valueOf()))return il.fromJSDate(e);if(e&&"object"==typeof e)return il.fromObject(e);throw new Qs(`Unknown datetime argument: ${e}, of type ${typeof e}`)}function ol(e){return e||(e=new Date),e.setDate(e.getDate()+1),e}const ul={};function ll(e){ul[e]&&navigator.geolocation.clearWatch(ul[e])}function cl(){const e=m("#latitude").value,t=m("#longitude").value;return!Number.isNaN(Number.parseFloat(e))&&!Number.isNaN(Number.parseFloat(t))&&{coords:{latitude:e,longitude:t}}}function dl(e,t){let n=Number.parseFloat(e.minutes);n="before"===e.relativePosition?-n:n;const r=Date.now(),s=t?"number"!=typeof t?t:new Date(t):new Date(r),i=Math.max(0,s.getTime()+60*n*1e3-r);return console.log(...t?["Original timestamp",t,new Date(t)]:["New date",s],"Minutes for timer",n,"Expiry duration (minutes)",i/6e4,"Start time (now)",r,"Start time as date",new Date(r)),{date:s,durationToExpire:i}}const hl={},ml={},{_:fl,locale:yl}=await async function(){const n=location.href,s="#lang=",i=n.indexOf(s);let a=-1!==i&&n.slice(i+6)||navigator.language||"en-US";var o;return document.documentElement.lang=a,e.includes(a)||(a="en-US"),t=(await(o=`../../locales/${a}.js`,"../../locales/en-US.js"===o?import("./en-US-Bbtbs1c7.js"):new Promise(function(e,t){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+o)))}))).default,{_:r,locale:a}}(),gl=function({_:e,locale:t,builder:n,listeners:r}){function s(n,r){const s=new Notification(e("Reminder (Click inside me to stop)"),{body:r,lang:t,requireInteraction:!0});console.log("Notification object",s),navigator.vibrate&&navigator.vibrate(500)}return function(t){Object.entries(t).forEach(a=>{!function([a,o]){function u(l,c){console.log("astronomicalEvent",c,"; frequency:",o.frequency);const d=dl(o,l),{durationToExpire:h}=d;let f;({date:l}=d),clearTimeout(r[a]),f="daily"===o.frequency?setTimeout(()=>{s(0,e(c?"notification_message_daily_astronomical":"notification_message_daily",a,l,new Date(Date.now()-h),new Date,c?e(c):null)),c&&(h<999&&(console.log(`Duration ${h} less than threshhold of 999, so increment`),l=ol(l)),console.log("Recalculating for...",l,c),u(l,c))},h):setTimeout(()=>{s(0,e(c?"notification_message_onetime_astronomical":"notification_message_onetime",a,l,new Date(Date.now()-h),new Date,c?e(c):null)),delete r[a],ll(a),o.enabled="false",i("sundriven",t,C(e,()=>{m("#name").value===a&&(m("#enabled").checked=!1),n.buildReminderTable()}))},h),r[a]=f}function l(e){return function({coords:{latitude:t,longitude:n}}){const r=il.now();let s;switch(e){case"civilDawn":case"civilDusk":case"nauticalDawn":case"nauticalDusk":case"astronomicalDawn":case"astronomicalDusk":case"sunrise":case"sunset":s=Rs[e](r,t,n);break;case"solarNoon":s=Rs[e](r,n)}s<0&&(s=Rs[e](il.fromJSDate(ol()),..."solarNoon"===e?[n]:[t,n]));const i=s.valueOf();console.log("Timestamp for astronomical event",e,i,new Date(i)),u(i,e)}}if(!o.enabled)return;ll(a);const{relativeEvent:c}=o;"now"===c?u(dl(o).durationToExpire<=999?ol():null):function(){if("never"===m("#geoloc-usage").value){const t=cl();return t?void l(c)(t):void alert(e("Per your settings, Geolocation is disallowed, and the manual coordinates are not formatted correctly, so the astronomical event cannot be determined at this time. Please either permit Geolocation or enter valid numeric coordinates manually."))}ul[a]=j(e,l(c),"when-available"===m("#geoloc-usage").value?function(){const t=cl();t?l(c)(t):alert(e("Geolocation is not currently available, and the manual coordinates are not formatted correctly in your settings, so the astronomical event cannot be determined at this time."))}:null)}()}(a)})}}({_:fl,locale:yl,builder:ml,listeners:hl}),pl=(e=>({document(){document.title=e("Sun Driven")},body(){D($,{class:"ui-widget"},[["br"],["div",{id:"settings-container"}],["br"],["div",{id:"table-container"}],["p",[e("Click on the relevant row of the table to create/edit a reminder above:")]],["div",{id:"forms-container"}]])},reminderTable({createDefaultReminderForm:t,createReminder:n,sortedForms:r}){D("table",{id:"forms"},[["tbody",{class:"ui-widget-header"},[["tr",[["th",[e("Name")]],["th",[e("Enabled")]]]]]],["tbody",{class:"ui-widget-content"},[["tr",[["td",{colspan:2,class:"focus",$on:{click:t}},[e("(Create new reminder)")]]]],...r.map(({name:e,enabled:t})=>["tr",{dataset:{name:e},$on:{click:n}},[["td",[e]],["td",{class:"focus"},[t?"✓":""]]]])]]],m("#forms-container"))},settings({grantPermissionHidden:t,retrieveCoordinates:n,setSettings:r,allowNotifications:s}){D("div",[["button",{$on:{click(){m("#settings-holder").hidden=!m("#settings-holder").hidden}}},[e("Settings")]]," ",["button",{id:"grantPermission",hidden:t,$on:{click:s}},[e("click_allow_notifications")]],["div",{id:"settings-holder",hidden:!0},[["form",{id:"settings",$on:{change:r}},[["fieldset",[["select",{id:"geoloc-usage"},[["option",{value:"when-available",title:e("Fall back to the coordinates below when offline or upon Geolocation errors")},[e("Use Geolocation when available")]],["option",{value:"never",title:e("Avoids a trip to the server but may not be accurate if you are traveling out of the area with your device.")},[e("Never use Geolocation; always use manual coordinates.")]],["option",{value:"always",title:e("Will report errors instead of falling back (not recommended)")},[e("Always use Geolocation; do not fall back to manual coordinates")]]]],["fieldset",{title:e("Use these coordinates for astronomical event-based reminders when offline or upon errors")},[["legend",[e("Manual coordinates")]],["label",[e("Latitude")+" ",["input",{id:"latitude",size:20}]]],["br"],["label",[e("Longitude")+" ",["input",{id:"longitude",size:20}]]],["br"],["button",{title:"Retrieve coordinates now using Geolocation for potential later use when offline or upon errors (depends on the selected pull-down option).",$on:{click:n}},[e("Retrieve coordinates for manual storage")]]," ",["span",{id:"retrieving",hidden:!0},[e("Retrieving...")]]]]]]]]]],["br"]],m("#settings-container"))},reminderForm({formID:t,settings:n,sortOptions:r,formChanged:s,saveReminder:i,deleteReminder:a}){function o(e,t){return D("select",{id:e,value:n[e]||"",defaultValue:n[e]||""},t.map(t=>(t[1].value===n[e]&&(t[1].selected=!0),t)),null)}var u,l,c,d;D("form",{id:t,$on:{change:s}},[["fieldset",[["legend",[e("Set Reminder")]],["label",[e("Name")+" ",["input",{id:"name",required:!0,value:n.name||""}]]],["label",[(d="enabled",["input",{id:d,type:"checkbox",checked:n[d]}]),e("Enabled")]],["br"],["label",[e("Frequency")+" ",o("frequency",[["option",{value:"daily"},[e("Daily")]],["option",{value:"one-time"},[e("One-time")]]])]],["br"],["label",[e("Relative to")+" ",o("relativeEvent",[["option",{value:"now"},[e("now")]],...r(["sunrise","sunset","solarNoon","civilDawn","civilDusk","nauticalDawn","nauticalDusk","astronomicalDawn","astronomicalDusk"].map(t=>["option",{value:t},[e(t)]]))])]]," ".repeat(2),["label",[["input",{id:"minutes",type:"number",step:1,value:n.minutes}]," "+e("Minutes")]],["br"],(u="relativePosition",l=[{label:e("after"),id:"after"},{label:e("before"),id:"before"}],c=n.relativePosition,["span",l.map(({id:e,label:t})=>["label",[["input",{type:"radio",name:u,id:e,checked:e===c}],t]])]),["br"],["button",{$on:{click:i}},[e("Save")]],["button",{class:"delete",$on:{click:a}},[e("Delete")]]]]],m("#table-container"))}}))(fl),{createReminderForm:wl,createDefaultReminderForm:bl}=function({_:e,Templates:t,updateListeners:n,listeners:r,builder:a}){function o(l={}){if(F){if(!confirm(e("You have unsaved changes; are you sure you wish to continue and lose your unsaved changes?")))return;F=!1}var c;m(c="#table-container").firstElementChild&&m(c).firstElementChild.remove();const d="set-reminder";t.reminderForm({formID:d,settings:l,sortOptions:e=>e.sort((e,t)=>e[2][0]>t[2][0]),formChanged(t){const{target:n}=t;if("name"===n.id&&""!==n.defaultValue){if(!confirm(e('Are you sure you wish to rename this reminder? If you wish instead to create a new one, click "cancel" now and then click "save" when you are ready.'))){const e=L(d,{},{inputs:["name","frequency","relativeEvent","minutes"],checkboxes:["enabled"],radios:["relativePosition"]});F=!1,o(e)}}F=!0},saveReminder(t){t.preventDefault();const o=L(d,{},{inputs:["name","frequency","relativeEvent","minutes"],checkboxes:["enabled"],radios:["relativePosition"]});o.name&&s("sundriven",V(e,t=>{if(!l.name&&t[o.name])return void alert(e("ERROR: Please supply a unique name"));const s=m("#name").defaultValue;[m("#name").value,""].includes(s)||(clearTimeout(r[s]),delete t[s]),t[o.name]=o,i("sundriven",t,C(e,()=>{F=!1,a.buildReminderTable(),n(t),alert(e("Saved!"))}))}))},deleteReminder(t){t.preventDefault();const n=m("#name").value;if(!n)return;confirm(e("Are you sure you wish to delete this reminder?"))&&(clearTimeout(r[n]),s("sundriven",V(e,t=>{delete t[n],i("sundriven",t,C(e,()=>{F=!1,a.buildReminderTable(),u(),alert(e("Reminder deleted!"))}))})))}})}function u(){o({name:"",enabled:!0,frequency:"daily",relativeEvent:"now",minutes:"60",relativePosition:"after"})}return window.addEventListener("beforeunload",t=>{if(F){const n=e("You have unsaved changes; are you sure you wish to leave the page?");return t.returnValue=n,t.preventDefault(),n}}),{createReminderForm:o,createDefaultReminderForm:u}}({_:fl,Templates:pl,updateListeners:gl,listeners:hl,builder:ml}),vl=function({_:e,Templates:t,createReminderForm:n,createDefaultReminderForm:r}){return function(){function i(){const{name:t}=this.dataset;s("sundriven",V(e,e=>{n(e[t])}))}s("sundriven",V(e,e=>{var n;m(n="#forms")&&m(n).remove();const s=Object.keys(e).sort().map(t=>e[t]);t.reminderTable({createDefaultReminderForm:r,createReminder:i,sortedForms:s})}))}}({_:fl,Templates:pl,createReminderForm:wl,createDefaultReminderForm:bl});ml.buildReminderTable=vl,pl.document(),pl.body(),await async function({Templates:e,_:t,getStorage:n,storageGetterErrorWrapper:r}){const s=await navigator.permissions.query({name:"geolocation"});s.addEventListener("change",()=>{var e;e=s.state,m("#grantPermission").hidden="granted"===e}),e.settings({grantPermissionHidden:"granted"===s.state,retrieveCoordinates(e){e.preventDefault(),m("#retrieving").hidden=!1,j(t,({coords:{latitude:e,longitude:t}})=>{m("#latitude").value=e,m("#longitude").value=t;const n=new Event("change",{cancelable:!0});m("#settings").dispatchEvent(n),m("#retrieving").hidden=!0},e=>{alert(t("geo_error",e.code,e.message)),m("#retrieving").hidden=!0})},setSettings(){i("sundriven-settings",L("settings",{},{inputs:["geoloc-usage","latitude","longitude"]}),C(t))},async allowNotifications(){const e=await Notification.requestPermission();"denied"===e?alert(t("You will not be able to use the app until permitting this!")):"granted"===e&&alert(t("Permission granted; you may now set timers."))}}),n("sundriven-settings",r(t,e=>{Object.entries(e).forEach(([e,t])=>{m("#"+e).value=t})}))}({_:fl,Templates:pl,getStorage:s,storageGetterErrorWrapper:V}),vl(),bl(),s("sundriven",V(fl,gl));
//# sourceMappingURL=sundriven.js.map
